"use strict";var wse=Object.defineProperty,Ese=Object.defineProperties,Ise=Object.getOwnPropertyDescriptors,qU=Object.getOwnPropertySymbols,bse=Object.prototype.hasOwnProperty,Dse=Object.prototype.propertyIsEnumerable,WU=(ie,ct,Kt)=>ct in ie?wse(ie,ct,{enumerable:!0,configurable:!0,writable:!0,value:Kt}):ie[ct]=Kt,zU=(ie,ct)=>{for(var Kt in ct||(ct={}))bse.call(ct,Kt)&&WU(ie,Kt,ct[Kt]);if(qU)for(var Kt of qU(ct))Dse.call(ct,Kt)&&WU(ie,Kt,ct[Kt]);return ie},KU=(ie,ct)=>Ese(ie,Ise(ct));(self.webpackChunklibrary=self.webpackChunklibrary||[]).push([[179],{654:()=>{function ie(t){return"function"==typeof t}function ct(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Kt=ct(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ro(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class _n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ie(r))try{r()}catch(s){e=s instanceof Kt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{WC(s)}catch(o){e=null!=e?e:[],o instanceof Kt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Kt(e)}}add(e){var n;if(e&&e!==this)if(this.closed)WC(e);else{if(e instanceof _n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ro(n,e)}remove(e){const{_finalizers:n}=this;n&&ro(n,e),e instanceof _n&&e._removeParent(this)}}_n.EMPTY=(()=>{const t=new _n;return t.closed=!0,t})();const GC=_n.EMPTY;function qC(t){return t instanceof _n||t&&"closed"in t&&ie(t.remove)&&ie(t.add)&&ie(t.unsubscribe)}function WC(t){ie(t)?t():t.unsubscribe()}const qi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wc={setTimeout(t,e,...n){const{delegate:r}=wc;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=wc;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function zC(t){wc.setTimeout(()=>{const{onUnhandledError:e}=qi;if(!e)throw t;e(t)})}function KC(){}const QU=mp("C",void 0,void 0);function mp(t,e,n){return{kind:t,value:e,error:n}}let Wi=null;function Ec(t){if(qi.useDeprecatedSynchronousErrorHandling){const e=!Wi;if(e&&(Wi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Wi;if(Wi=null,n)throw r}}else t()}class yp extends _n{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qC(e)&&e.add(this)):this.destination=nB}static create(e,n,r){return new Ic(e,n,r)}next(e){this.isStopped?vp(function JU(t){return mp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?vp(function YU(t){return mp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vp(QU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ZU=Function.prototype.bind;function _p(t,e){return ZU.call(t,e)}class eB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){bc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){bc(r)}else bc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){bc(n)}}}class Ic extends yp{constructor(e,n,r){let i;if(super(),ie(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&qi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_p(e.next,s),error:e.error&&_p(e.error,s),complete:e.complete&&_p(e.complete,s)}):i=e}this.destination=new eB(i)}}function bc(t){qi.useDeprecatedSynchronousErrorHandling?function XU(t){qi.useDeprecatedSynchronousErrorHandling&&Wi&&(Wi.errorThrown=!0,Wi.error=t)}(t):zC(t)}function vp(t,e){const{onStoppedNotification:n}=qi;n&&wc.setTimeout(()=>n(t,e))}const nB={closed:!0,next:KC,error:function tB(t){throw t},complete:KC},wp="function"==typeof Symbol&&Symbol.observable||"@@observable";function zi(t){return t}let Re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function iB(t){return t&&t instanceof yp||function rB(t){return t&&ie(t.next)&&ie(t.error)&&ie(t.complete)}(t)&&qC(t)}(n)?n:new Ic(n,r,i);return Ec(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=YC(r))((i,s)=>{const o=new Ic({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[wp](){return this}pipe(...n){return function QC(t){return 0===t.length?zi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=YC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function YC(t){var e;return null!==(e=null!=t?t:qi.Promise)&&void 0!==e?e:Promise}const sB=ct(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Or=(()=>{class t extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new JC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sB}next(n){Ec(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ec(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ec(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?GC:(this.currentObservers=null,s.push(n),new _n(()=>{this.currentObservers=null,ro(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Re;return n.source=this,n}}return t.create=(e,n)=>new JC(e,n),t})();class JC extends Or{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:GC}}function XC(t){return ie(null==t?void 0:t.lift)}function Ct(t){return e=>{if(XC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(t,e,n,r,i){return new oB(t,e,n,r,i)}class oB extends yp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(t,e){return Ct((n,r)=>{let i=0;n.subscribe(dt(r,s=>{r.next(t.call(e,s,i++))}))})}function eT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ki(t){return this instanceof Ki?(this.v=t,this):new Ki(t)}function lB(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ki?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function cB(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function nT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const rT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function iT(t){return ie(null==t?void 0:t.then)}function sT(t){return ie(t[wp])}function oT(t){return Symbol.asyncIterator&&ie(null==t?void 0:t[Symbol.asyncIterator])}function aT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const uT=function hB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function lT(t){return ie(null==t?void 0:t[uT])}function cT(t){return lB(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ki(n.read());if(i)return yield Ki(void 0);yield yield Ki(r)}}finally{n.releaseLock()}})}function dT(t){return ie(null==t?void 0:t.getReader)}function hr(t){if(t instanceof Re)return t;if(null!=t){if(sT(t))return function fB(t){return new Re(e=>{const n=t[wp]();if(ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(rT(t))return function pB(t){return new Re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(iT(t))return function gB(t){return new Re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,zC)})}(t);if(oT(t))return hT(t);if(lT(t))return function mB(t){return new Re(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(dT(t))return function yB(t){return hT(cT(t))}(t)}throw aT(t)}function hT(t){return new Re(e=>{(function _B(t,e){var n,r,i,s;return function aB(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=cB(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Fr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ht(t,e,n=1/0){return ie(e)?ht((r,i)=>ye((s,o)=>e(r,s,i,o))(hr(t(r,i))),n):("number"==typeof e&&(n=e),Ct((r,i)=>function vB(t,e,n,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let _=!1;hr(n(g,c++)).subscribe(dt(e,E=>{null==i||i(E),s?f(E):e.next(E)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;u.length&&l<r;){const E=u.shift();o?Fr(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(dt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function Ha(t=1/0){return ht(zi,t)}const Lr=new Re(t=>t.complete());function Ip(t){return t[t.length-1]}function fT(t){return ie(Ip(t))?t.pop():void 0}function Ga(t){return function EB(t){return t&&ie(t.schedule)}(Ip(t))?t.pop():void 0}function Dc(t,e=0){return Ct((n,r)=>{n.subscribe(dt(r,i=>Fr(r,t,()=>r.next(i),e),()=>Fr(r,t,()=>r.complete(),e),i=>Fr(r,t,()=>r.error(i),e)))})}function Cc(t,e=0){return Ct((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Re(n=>{Fr(n,e,()=>{const r=t[Symbol.asyncIterator]();Fr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ft(t,e){return e?function SB(t,e){if(null!=t){if(sT(t))return function bB(t,e){return hr(t).pipe(Cc(e),Dc(e))}(t,e);if(rT(t))return function CB(t,e){return new Re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(iT(t))return function DB(t,e){return hr(t).pipe(Cc(e),Dc(e))}(t,e);if(oT(t))return pT(t,e);if(lT(t))return function TB(t,e){return new Re(n=>{let r;return Fr(n,e,()=>{r=t[uT](),Fr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ie(null==r?void 0:r.return)&&r.return()})}(t,e);if(dT(t))return function AB(t,e){return pT(cT(t),e)}(t,e)}throw aT(t)}(t,e):hr(t)}function Tc(t){return t<=0?()=>Lr:Ct((e,n)=>{let r=0;e.subscribe(dt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function bp(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Tc(1)).subscribe(()=>t())}function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function Dp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Cp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const kB=ve({__forward_ref__:ve});function Ie(t){return t.__forward_ref__=Ie,t.toString=function(){return ge(this())},t}function Q(t){return gT(t)?t():t}function gT(t){return"function"==typeof t&&t.hasOwnProperty(kB)&&t.__forward_ref__===Ie}class oe extends Error{constructor(e,n){super(function Tp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function G(t){return"string"==typeof t?t:null==t?"":String(t)}function Tt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():G(t)}function Ac(t,e){const n=e?` in ${e}`:"";throw new oe(-201,`No provider for ${Tt(t)} found${n}`)}function wn(t,e){null==t&&function we(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function un(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ap(t){return mT(t,Sc)||mT(t,_T)}function mT(t,e){return t.hasOwnProperty(e)?t[e]:null}function yT(t){return t&&(t.hasOwnProperty(Sp)||t.hasOwnProperty(VB))?t[Sp]:null}const Sc=ve({\u0275prov:ve}),Sp=ve({\u0275inj:ve}),_T=ve({ngInjectableDef:ve}),VB=ve({ngInjectorDef:ve});var $=(()=>(($=$||{})[$.Default=0]="Default",$[$.Host=1]="Host",$[$.Self=2]="Self",$[$.SkipSelf=4]="SkipSelf",$[$.Optional=8]="Optional",$))();let xp;function hi(t){const e=xp;return xp=t,e}function vT(t,e,n){const r=Ap(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$.Optional?null:void 0!==e?e:void Ac(ge(t),"Injector")}function fi(t){return{toString:t}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),fr=(()=>{return(t=fr||(fr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",fr;var t})();const BB="undefined"!=typeof globalThis&&globalThis,jB="undefined"!=typeof window&&window,$B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_e=BB||"undefined"!=typeof global&&global||jB||$B,io={},Ee=[],xc=ve({\u0275cmp:ve}),Mp=ve({\u0275dir:ve}),kp=ve({\u0275pipe:ve}),wT=ve({\u0275mod:ve}),Ur=ve({\u0275fac:ve}),qa=ve({__NG_ELEMENT_ID__:ve});let HB=0;function Br(t){return fi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ee,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||fr.Emulated,id:"c",styles:t.styles||Ee,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=HB++,r.inputs=DT(t.inputs,n),r.outputs=DT(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(ET):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(IT):null,r})}function ET(t){return Ft(t)||function pi(t){return t[Mp]||null}(t)}function IT(t){return function Qi(t){return t[kp]||null}(t)}const bT={};function En(t){return fi(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ee,declarations:t.declarations||Ee,imports:t.imports||Ee,exports:t.exports||Ee,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(bT[t.id]=t.type),e})}function DT(t,e){if(null==t)return io;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const B=Br;function Ft(t){return t[xc]||null}function Rn(t,e){const n=t[wT]||null;if(!n&&!0===e)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return n}const Y=11;function pr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yn(t){return Array.isArray(t)&&!0===t[1]}function Pp(t){return 0!=(8&t.flags)}function Rc(t){return 2==(2&t.flags)}function Pc(t){return 1==(1&t.flags)}function Jn(t){return null!==t.template}function QB(t){return 0!=(512&t[2])}function Zi(t,e){return t.hasOwnProperty(Ur)?t[Ur]:null}class XB{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function On(){return TT}function TT(t){return t.type.prototype.ngOnChanges&&(t.setInput=e2),ZB}function ZB(){const t=ST(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===io)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function e2(t,e,n,r){const i=ST(t)||function t2(t,e){return t[AT]=e}(t,{previous:io,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new XB(u&&u.currentValue,e,o===io),t[r]=e}On.ngInherit=!0;const AT="__ngSimpleChanges__";function ST(t){return t[AT]||null}let Up;function Oe(t){return!!t.listen}const xT={createRenderer:(t,e)=>function Bp(){return void 0!==Up?Up:"undefined"!=typeof document?document:void 0}()};function qe(t){for(;Array.isArray(t);)t=t[0];return t}function Oc(t,e){return qe(e[t])}function Ln(t,e){return qe(e[t.index])}function jp(t,e){return t.data[e]}function bn(t,e){const n=e[t];return pr(n)?n:n[0]}function $p(t){return 128==(128&t[2])}function gi(t,e){return null==e?null:t[e]}function kT(t){t[18]=0}function Hp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const q={lFrame:jT(null),bindingsEnabled:!0};function RT(){return q.bindingsEnabled}function I(){return q.lFrame.lView}function ae(){return q.lFrame.tView}function nt(){let t=OT();for(;null!==t&&64===t.type;)t=t.parent;return t}function OT(){return q.lFrame.currentTNode}function gr(t,e){const n=q.lFrame;n.currentTNode=t,n.isParent=e}function Gp(){return q.lFrame.isParent}function co(){return q.lFrame.bindingIndex++}function $r(t){const e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _2(t,e){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wp(e)}function Wp(t){q.lFrame.currentDirectiveIndex=t}function Kp(t){q.lFrame.currentQueryIndex=t}function w2(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function UT(t,e,n){if(n&$.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&$.Host||(i=w2(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=q.lFrame=BT();return r.currentTNode=e,r.lView=t,!0}function Lc(t){const e=BT(),n=t[1];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BT(){const t=q.lFrame,e=null===t?null:t.child;return null===e?jT(t):e}function jT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function $T(){const t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const HT=$T;function Vc(){const t=$T();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yt(){return q.lFrame.selectedIndex}function mi(t){q.lFrame.selectedIndex=t}function Fe(){const t=q.lFrame;return jp(t.tView,t.selectedIndex)}function Uc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),l&&((t.viewHooks||(t.viewHooks=[])).push(n,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Bc(t,e,n){GT(t,e,3,n)}function jc(t,e,n,r){(3&t[2])===n&&GT(t,e,n,r)}function Qp(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function GT(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(x2(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function x2(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ya{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function $c(t,e,n){const r=Oe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Jp(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function qT(t){return 3===t||4===t||6===t}function Jp(t){return 64===t.charCodeAt(0)}function Hc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||WT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function WT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function zT(t){return-1!==t}function ho(t){return 32767&t}function fo(t,e){let n=function P2(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Xp=!0;function Gc(t){const e=Xp;return Xp=t,e}let O2=0;function Xa(t,e){const n=eg(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Zp(r.data,t),Zp(e,null),Zp(r.blueprint,null));const i=qc(t,e),s=t.injectorIndex;if(zT(i)){const o=ho(i),a=fo(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Zp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function eg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Wc(t,e,n){!function F2(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(qa)&&(r=n[qa]),null==r&&(r=n[qa]=O2++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function YT(t,e,n){if(n&$.Optional)return t;Ac(e,"NodeInjector")}function JT(t,e,n,r){if(n&$.Optional&&void 0===r&&(r=null),0==(n&($.Self|$.Host))){const i=t[9],s=hi(void 0);try{return i?i.get(e,r,n&$.Optional):vT(e,r,n&$.Optional)}finally{hi(s)}}return YT(r,e,n)}function XT(t,e,n,r=$.Default,i){if(null!==t){const s=function B2(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(qa)?t[qa]:void 0;return"number"==typeof e?e>=0?255&e:V2:e}(n);if("function"==typeof s){if(!UT(e,t,r))return r&$.Host?YT(i,n,r):JT(e,n,r,i);try{const o=s(r);if(null!=o||r&$.Optional)return o;Ac(n)}finally{HT()}}else if("number"==typeof s){let o=null,a=eg(t,e),u=-1,l=r&$.Host?e[16][6]:null;for((-1===a||r&$.SkipSelf)&&(u=-1===a?qc(t,e):e[a+8],-1!==u&&t0(r,!1)?(o=e[1],a=ho(u),e=fo(u,e)):a=-1);-1!==a;){const c=e[1];if(e0(s,a,c.data)){const d=U2(a,e,n,o,r,l);if(d!==ZT)return d}u=e[a+8],-1!==u&&t0(r,e[1].data[a+8]===l)&&e0(s,a,e)?(o=c,a=ho(u),e=fo(u,e)):a=-1}}}return JT(e,n,r,i)}const ZT={};function V2(){return new po(nt(),I())}function U2(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function zc(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Jn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Rc(a)&&Xp:r!=o&&0!=(3&a.type),i&$.Host&&s===a);return null!==c?Za(e,o,c,a):ZT}function Za(t,e,n,r){let i=t[n];const s=e.data;if(function M2(t){return t instanceof Ya}(i)){const o=i;o.resolving&&function NB(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new oe(-200,`Circular dependency in DI detected for ${t}${n}`)}(Tt(s[n]));const a=Gc(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?hi(o.injectImpl):null;UT(t,r,$.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function S2(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=TT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&hi(u),Gc(a),o.resolving=!1,HT()}}return i}function e0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function t0(t,e){return!(t&$.Self||t&$.Host&&e)}class po{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XT(this._tNode,this._lView,e,r,n)}}function Vt(t){return fi(()=>{const e=t.prototype.constructor,n=e[Ur]||tg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ur]||tg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function tg(t){return gT(t)?()=>{const e=tg(Q(t));return e&&e()}:Zi(t)}const mo="__parameters__";function _o(t,e,n){return fi(()=>{const r=function ng(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(mo)?u[mo]:Object.defineProperty(u,mo,{value:[]})[mo];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $2=new z("AnalyzeForEntryComponents");function mr(t,e){t.forEach(n=>Array.isArray(n)?mr(n,e):e(n))}function r0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Dn(t,e,n){let r=vo(t,e);return r>=0?t[1|r]=n:(r=~r,function q2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ig(t,e){const n=vo(t,e);if(n>=0)return t[1|n]}function vo(t,e){return function a0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const iu={},og="__NG_DI_FLAG__",Yc="ngTempTokenPath",X2=/\n/gm,l0="__source",ej=ve({provide:String,useValue:ve});let su;function c0(t){const e=su;return su=t,e}function tj(t,e=$.Default){if(void 0===su)throw new oe(203,"");return null===su?vT(t,void 0,e):su.get(t,e&$.Optional?null:void 0,e)}function F(t,e=$.Default){return(function UB(){return xp}()||tj)(Q(t),e)}const nj=F;function ag(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new oe(900,"");let i,s=$.Default;for(let o=0;o<r.length;o++){const a=r[o],u=rj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function ou(t,e){return t[og]=e,t.prototype[og]=e,t}function rj(t){return t[og]}const Jc=ou(_o("Inject",t=>({token:t})),-1),gt=ou(_o("Optional"),8),au=ou(_o("SkipSelf"),4);class v0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function _i(t){return t instanceof v0?t.changingThisBreaksApplicationSecurity:t}const Cj=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tj=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var We=(()=>((We=We||{})[We.NONE=0]="NONE",We[We.HTML=1]="HTML",We[We.STYLE=2]="STYLE",We[We.SCRIPT=3]="SCRIPT",We[We.URL=4]="URL",We[We.RESOURCE_URL=5]="RESOURCE_URL",We))();function gg(t){const e=function du(){const t=I();return t&&t[12]}();return e?e.sanitize(We.URL,t)||"":function lu(t,e){const n=function Ej(t){return t instanceof v0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?_i(t):function td(t){return(t=String(t)).match(Cj)||t.match(Tj)?t:"unsafe:"+t}(G(t))}const x0="__ngContext__";function Ut(t,e){t[x0]=e}function yg(t){const e=function hu(t){return t[x0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function vg(t){return t.ngOriginalError}function Qj(t,...e){t.error(...e)}class fu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function Kj(t){return t&&t.ngErrorLogger||Qj}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vg(e);for(;n&&vg(n);)n=vg(n);return n||null}}const s$=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_e))();function _r(t){return t instanceof Function?t():t}var Cn=(()=>((Cn=Cn||{})[Cn.Important=1]="Important",Cn[Cn.DashCase=2]="DashCase",Cn))();function Eg(t,e){return undefined(t,e)}function pu(t){const e=t[3];return Yn(e)?e[3]:e}function Ig(t){return V0(t[13])}function bg(t){return V0(t[4])}function V0(t){for(;null!==t&&!Yn(t);)t=t[4];return t}function bo(t,e,n,r,i){if(null!=r){let s,o=!1;Yn(r)?s=r:pr(r)&&(o=!0,r=r[0]);const a=qe(r);0===t&&null!==n?null==i?G0(e,n,a):es(e,n,a,i||null,!0):1===t&&null!==n?es(e,n,a,i||null,!0):2===t?function J0(t,e,n){const r=rd(t,e);r&&function v$(t,e,n,r){Oe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function I$(t,e,n,r,i){const s=n[7];s!==qe(n)&&bo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];gu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Cg(t,e,n){if(Oe(t))return t.createElement(e,n);{const r=null!==n?function s2(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function B0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Hp(i,-1)),n.splice(r,1)}function Tg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&B0(i,r),e>0&&(t[n-1][4]=r[4]);const s=Kc(t,10+e);!function d$(t,e){gu(t,e,e[Y],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function j0(t,e){if(!(256&e[2])){const n=e[Y];Oe(n)&&n.destroyNode&&gu(t,e,n,3,null,null),function p$(t){let e=t[13];if(!e)return Ag(t[1],t);for(;e;){let n=null;if(pr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)pr(e)&&Ag(e[1],e),e=e[3];null===e&&(e=t),pr(e)&&Ag(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ag(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function _$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ya)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function y$(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):qe(e[o]),u=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?a.removeEventListener(n[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Oe(e[Y])&&e[Y].destroy();const n=e[17];if(null!==n&&Yn(e[3])){n!==e[3]&&B0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function $0(t,e,n){return function H0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===fr.None||i===fr.Emulated)return null}return Ln(r,n)}(t,e.parent,n)}function es(t,e,n,r,i){Oe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function G0(t,e,n){Oe(t)?t.appendChild(e,n):e.appendChild(n)}function q0(t,e,n,r,i){null!==r?es(t,e,n,r,i):G0(t,e,n)}function rd(t,e){return Oe(t)?t.parentNode(e):e.parentNode}let K0=function z0(t,e,n){return 40&t.type?Ln(t,n):null};function id(t,e,n,r){const i=$0(t,r,e),s=e[Y],a=function W0(t,e,n){return K0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)q0(s,i,n[u],a,!1);else q0(s,i,n,a,!1)}function sd(t,e){if(null!==e){const n=e.type;if(3&n)return Ln(e,t);if(4&n)return xg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return sd(t,r);{const i=t[e.index];return Yn(i)?xg(-1,i):qe(i)}}if(32&n)return Eg(e,t)()||qe(t[e.index]);{const r=Y0(t,e);return null!==r?Array.isArray(r)?r[0]:sd(pu(t[16]),r):sd(t,e.next)}}return null}function Y0(t,e){return null!==e?t[16][6].projection[e.projection]:null}function xg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return sd(r,i)}return e[7]}function Mg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ut(qe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Mg(t,e,n.child,r,i,s,!1),bo(e,t,i,a,s);else if(32&u){const l=Eg(n,r);let c;for(;c=l();)bo(e,t,i,c,s);bo(e,t,i,a,s)}else 16&u?X0(t,e,r,n,i,s):bo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function gu(t,e,n,r,i,s){Mg(n,r,t.firstChild,e,i,s,!1)}function X0(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)bo(e,t,i,u[l],s);else Mg(t,e,u,o[3],i,s,!0)}function Z0(t,e,n){Oe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function kg(t,e,n){Oe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function eA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const tA="ng-template";function D$(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==eA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function nA(t){return 4===t.type&&t.value!==tA}function C$(t,e,n){return e===(4!==t.type||n?t.value:tA)}function T$(t,e,n){let r=4;const i=t.attrs||[],s=function x$(t){for(let e=0;e<t.length;e++)if(qT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!C$(t,u,n)||""===u&&1===e.length){if(Xn(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!D$(t.attrs,l,n)){if(Xn(r))return!1;o=!0}continue}const d=A$(8&r?"class":u,i,nA(t),n);if(-1===d){if(Xn(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==eA(f,l,0)||2&r&&l!==h){if(Xn(r))return!1;o=!0}}}}else{if(!o&&!Xn(r)&&!Xn(u))return!1;if(o&&Xn(u))continue;o=!1,r=u|1&r}}return Xn(r)||o}function Xn(t){return 0==(1&t)}function A$(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function M$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function rA(t,e,n=!1){for(let r=0;r<e.length;r++)if(T$(t,e[r],n))return!0;return!1}function iA(t,e){return t?":not("+e.trim()+")":e}function N$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Xn(o)&&(e+=iA(s,i),i=""),r=o,s=s||!Xn(r);n++}return""!==i&&(e+=iA(s,i)),e}const W={};function ze(t){sA(ae(),I(),Yt()+t,!1)}function sA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Bc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&jc(e,s,0,n)}mi(n)}function od(t,e){return t<<17|e<<2}function Zn(t){return t>>17&32767}function Ng(t){return 2|t}function Hr(t){return(131068&t)>>2}function Rg(t,e){return-131069&t|e<<2}function Pg(t){return 1|t}function mA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Kp(i),o.contentQueries(2,e[s],s)}}}function mu(t,e,n,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,kT(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[Y]=a||t&&t[Y],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function Do(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Hg(t,e,n,r,i){const s=OT(),o=Gp(),u=t.data[e]=function Y$(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function y2(){return q.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Qa(){const t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return gr(s,!0),s}function Co(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function yu(t,e,n){Lc(e);try{const r=t.viewQuery;null!==r&&Xg(1,r,n);const i=t.template;null!==i&&yA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mA(t,e),t.staticViewQueries&&Xg(2,t.viewQuery,n);const s=t.components;null!==s&&function z$(t,e){for(let n=0;n<e.length;n++)pH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Vc()}}function To(t,e,n,r){const i=e[2];if(256!=(256&i)){Lc(e);try{kT(e),function FT(t){return q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&yA(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Bc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&jc(e,l,0,null),Qp(e,0)}if(function hH(t){for(let e=Ig(t);null!==e;e=bg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Hp(s,1),i[2]|=1024}}}(e),function dH(t){for(let e=Ig(t);null!==e;e=bg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];$p(r)&&To(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&mA(t,e),o){const l=t.contentCheckHooks;null!==l&&Bc(e,l)}else{const l=t.contentHooks;null!==l&&jc(e,l,1),Qp(e,1)}!function q$(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)mi(~i);else{const s=i,o=n[++r],a=n[++r];_2(o,s),a(2,e[s])}}}finally{mi(-1)}}(t,e);const a=t.components;null!==a&&function W$(t,e){for(let n=0;n<e.length;n++)fH(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Xg(2,u,r),o){const l=t.viewCheckHooks;null!==l&&Bc(e,l)}else{const l=t.viewHooks;null!==l&&jc(e,l,2),Qp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,Hp(e[3],-1))}finally{Vc()}}}function K$(t,e,n,r){const i=e[10],o=function MT(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&yu(t,e,r),To(t,e,n,r)}finally{!o&&i.end&&i.end()}}function yA(t,e,n,r,i){const s=Yt(),o=2&r;try{mi(-1),o&&e.length>20&&sA(t,e,20,!1),n(r,i)}finally{mi(s)}}function Gg(t,e,n){!RT()||(function rH(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Xa(n,e),Ut(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],l=Jn(u);l&&uH(e,n,u);const c=Za(e,t,a,n);Ut(c,e),null!==o&&lH(0,a-i,c,u,0,o),l&&(bn(n.index,e)[8]=c)}}(t,e,n,Ln(n,e)),128==(128&n.flags)&&function iH(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function v2(){return q.lFrame.currentDirectiveIndex}();try{mi(o);for(let u=r;u<i;u++){const l=t.data[u],c=e[u];Wp(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&TA(l,c)}}finally{mi(-1),Wp(a)}}(t,e,n))}function qg(t,e,n=Ln){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function vA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ld(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ld(t,e,n,r,i,s,o,a,u,l){const c=20+r,d=c+i,h=function Q$(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(c,d),f="function"==typeof l?l():l;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function bA(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Tn(t,e,n,r,i,s,o,a){const u=Ln(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(FA(t,n,c,r,i),Rc(e)&&function Z$(t,e){const n=bn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function X$(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Oe(s)?s.setProperty(u,r,i):Jp(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Wg(t,e,n,r){let i=!1;if(RT()){const s=function sH(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];rA(n,o.selectors,!1)&&(i||(i=[]),Wc(Xa(n,e),t,o.type),Jn(o)?(AA(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,SA(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=Co(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=Hc(n.mergedAttrs,d.hostAttrs),xA(t,n,e,l,d),aH(l,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),l++}!function J$(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||nA(e)?null:cH(d,s);o.push(h),a=bA(d,l,a),u=bA(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function oH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new oe(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Hc(n.mergedAttrs,n.attrs),i}function CA(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function nH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function TA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function AA(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function aH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jn(e)&&(n[""]=t)}}function SA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xA(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Zi(i.type)),o=new Ya(s,Jn(i),null);t.blueprint[r]=o,n[r]=o,CA(t,e,0,r,Co(t,n,i.hostVars,W),i)}function uH(t,e,n){const r=Ln(e,t),i=vA(n),s=t[10],o=cd(t,mu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function vr(t,e,n,r,i,s){const o=Ln(t,e);!function zg(t,e,n,r,i,s,o){if(null==s)Oe(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?G(s):o(s,r||"",i);Oe(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[Y],o,s,t.value,n,r,i)}function lH(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(n,d,l,c):n[c]=d}}}function cH(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function MA(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function fH(t,e){const n=bn(e,t);if($p(n)){const r=n[1];80&n[2]?To(r,n,r.template,n[8]):n[5]>0&&Kg(n)}}function Kg(t){for(let r=Ig(t);null!==r;r=bg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];To(o,s,o.template,s[8])}else s[5]>0&&Kg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=bn(n[r],t);$p(i)&&i[5]>0&&Kg(i)}}function pH(t,e){const n=bn(e,t),r=n[1];(function gH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),yu(r,n,n[8])}function cd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Qg(t){for(;t;){t[2]|=64;const e=pu(t);if(QB(t)&&!e)return t;t=e}return null}function kA(t){!function Yg(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=yg(n),i=r[1];K$(i,r,i.template,n)}}(t[8])}function Xg(t,e,n){Kp(0),e(t,n)}const yH=(()=>Promise.resolve(null))();function NA(t){return t[7]||(t[7]=[])}function RA(t){return t.cleanup||(t.cleanup=[])}function OA(t,e){const n=t[9],r=n?n.get(fu,null):null;r&&r.handleError(e)}function FA(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Gr(t,e,n){const r=Oc(e,t);!function U0(t,e,n){Oe(t)?t.setValue(e,n):e.textContent=n}(t[Y],r,n)}function dd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Cp(i,a):2==s&&(r=Cp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Zg=new z("INJECTOR",-1);class LA{get(e,n=iu){if(n===iu){const r=new Error(`NullInjectorError: No provider for ${ge(e)}!`);throw r.name="NullInjectorError",r}return n}}const em=new z("Set Injector scope."),_u={},wH={};let tm;function VA(){return void 0===tm&&(tm=new LA),tm}function UA(t,e=null,n=null,r){const i=BA(t,e,n,r);return i._resolveInjectorDefTypes(),i}function BA(t,e=null,n=null,r){return new EH(t,n,e||VA(),r)}class EH{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&mr(n,a=>this.processProvider(a,e,n)),mr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Zg,Ao(void 0,this));const o=this.records.get(em);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ge(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=iu,r=$.Default){this.assertNotDestroyed();const i=c0(this),s=hi(void 0);try{if(!(r&$.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function xH(t){return"function"==typeof t||"object"==typeof t&&t instanceof z}(e)&&Ap(e);a=u&&this.injectableDefInScope(u)?Ao(nm(e),_u):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&$.Self?VA():this.parent).get(e,n=r&$.Optional&&n===iu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Yc]=o[Yc]||[]).unshift(ge(e)),i)throw o;return function ij(t,e,n,r){const i=t[Yc];throw e[l0]&&i.unshift(e[l0]),t.message=function sj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=ge(e);if(Array.isArray(e))i=e.map(ge).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ge(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(X2,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Yc]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{hi(s),c0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ge(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processInjectorType(e,n,r){if(!(e=Q(e)))return!1;let i=yT(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=yT(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{mr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];mr(f,p=>this.processProvider(p,h,f||Ee))}}this.injectorDefTypes.add(o);const u=Zi(o)||(()=>new o);this.records.set(o,Ao(u,_u));const l=i.providers;if(null!=l&&!a){const c=e;mr(l,d=>this.processProvider(d,c,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=So(e=Q(e))?e:Q(e&&e.provide);const s=function bH(t,e,n){return $A(t)?Ao(void 0,t.useValue):Ao(jA(t),_u)}(e);if(So(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Ao(void 0,_u,!0),o.factory=()=>ag(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===_u&&(n.value=wH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function SH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function nm(t){const e=Ap(t),n=null!==e?e.factory:Zi(t);if(null!==n)return n;if(t instanceof z)throw new oe(204,!1);if(t instanceof Function)return function IH(t){const e=t.length;if(e>0)throw function ru(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new oe(204,!1);const n=function FB(t){const e=t&&(t[Sc]||t[_T]);if(e){const n=function LB(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new oe(204,!1)}function jA(t,e,n){let r;if(So(t)){const i=Q(t);return Zi(i)||nm(i)}if($A(t))r=()=>Q(t.useValue);else if(function CH(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ag(t.deps||[]));else if(function DH(t){return!(!t||!t.useExisting)}(t))r=()=>F(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function AH(t){return!!t.deps}(t))return Zi(i)||nm(i);r=()=>new i(...ag(t.deps))}return r}function Ao(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $A(t){return null!==t&&"object"==typeof t&&ej in t}function So(t){return"function"==typeof t}let Bt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return UA({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return UA({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=iu,t.NULL=new LA,t.\u0275prov=ee({token:t,providedIn:"any",factory:()=>F(Zg)}),t.__NG_ELEMENT_ID__=-1,t})();function LH(t,e){Uc(yg(t)[1],nt())}function me(t){let e=function eS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Jn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new oe(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=sm(t.inputs),o.declaredInputs=sm(t.declaredInputs),o.outputs=sm(t.outputs);const a=i.hostBindings;a&&jH(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&UH(t,u),l&&BH(t,l),Dp(t.inputs,i.inputs),Dp(t.declaredInputs,i.declaredInputs),Dp(t.outputs,i.outputs),Jn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===me&&(n=!1)}}e=Object.getPrototypeOf(e)}!function VH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hc(i.hostAttrs,n=Hc(n,i.hostAttrs))}}(r)}function sm(t){return t===io?{}:t===Ee?[]:t}function UH(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function BH(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function jH(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let hd=null;function xo(){if(!hd){const t=_e.Symbol;if(t&&t.iterator)hd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(hd=r)}}}return hd}function vu(t){return!!function om(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Er(t,e,n,r){const i=I();return jt(i,co(),e)&&(ae(),vr(Fe(),i,t,e,n,r)),Er}function No(t,e,n,r,i,s){const a=function ts(t,e,n,r){const i=jt(t,e,n);return jt(t,e+1,r)||i}(t,function jr(){return q.lFrame.bindingIndex}(),n,i);return $r(2),a?e+G(n)+r+G(i)+s:W}function dn(t,e,n,r,i,s,o,a){const u=I(),l=ae(),c=t+20,d=l.firstCreatePass?function KH(t,e,n,r,i,s,o,a,u){const l=e.consts,c=Do(e,t,4,o||null,gi(l,a));Wg(e,n,c,gi(l,u)),Uc(e,c);const d=c.tViews=ld(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,s,o):l.data[c];gr(d,!1);const h=u[Y].createComment("");id(l,u,h,d),Ut(h,u),cd(u,u[c]=MA(h,u,h,d)),Pc(d)&&Gg(l,u,d),null!=o&&qg(u,d,a)}function ns(t){return function lo(t,e){return t[e]}(function m2(){return q.lFrame.contextLView}(),20+t)}function b(t,e=$.Default){const n=I();return null===n?F(t,e):XT(nt(),n,Q(t),e)}function dm(){throw new Error("invalid")}function mt(t,e,n){const r=I();return jt(r,co(),e)&&Tn(ae(),Fe(),r,t,e,r[Y],n,!1),mt}function hm(t,e,n,r,i){const o=i?"class":"style";FA(t,n,e.inputs[o],o,r)}function ue(t,e,n,r){const i=I(),s=ae(),o=20+t,a=i[Y],u=i[o]=Cg(a,e,function A2(){return q.lFrame.currentNamespace}()),l=s.firstCreatePass?function gG(t,e,n,r,i,s,o){const a=e.consts,l=Do(e,t,2,i,gi(a,s));return Wg(e,n,l,gi(a,o)),null!==l.attrs&&dd(l,l.attrs,!1),null!==l.mergedAttrs&&dd(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,n,r):s.data[o];gr(l,!0);const c=l.mergedAttrs;null!==c&&$c(a,u,c);const d=l.classes;null!==d&&kg(a,u,d);const h=l.styles;return null!==h&&Z0(a,u,h),64!=(64&l.flags)&&id(s,i,u,l),0===function d2(){return q.lFrame.elementDepthCount}()&&Ut(u,i),function h2(){q.lFrame.elementDepthCount++}(),Pc(l)&&(Gg(s,i,l),function _A(t,e,n){if(Pp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,l,i)),null!==r&&qg(i,l),ue}function fe(){let t=nt();Gp()?function qp(){q.lFrame.isParent=!1}():(t=t.parent,gr(t,!1));const e=t;!function f2(){q.lFrame.elementDepthCount--}();const n=ae();return n.firstCreatePass&&(Uc(n,t),Pp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function N2(t){return 0!=(16&t.flags)}(e)&&hm(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function R2(t){return 0!=(32&t.flags)}(e)&&hm(n,e,I(),e.stylesWithoutHost,!1),fe}function tr(t,e,n,r){return ue(t,e,n,r),fe(),tr}function Eu(t){return!!t&&"function"==typeof t.then}const gm=function IS(t){return!!t&&"function"==typeof t.subscribe};function $t(t,e,n,r){const i=I(),s=ae(),o=nt();return function DS(t,e,n,r,i,s,o,a){const u=Pc(r),c=t.firstCreatePass&&RA(t),d=e[8],h=NA(e);let f=!0;if(3&r.type||a){const _=Ln(r,e),E=a?a(_):_,y=h.length,T=a?P=>a(qe(P[r.index])):r.index;if(Oe(n)){let P=null;if(!a&&u&&(P=function yG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=mm(r,e,d,s,!1);const O=n.listen(E,i,s);h.push(s,O),c&&c.push(i,T,y,y+1)}}else s=mm(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),c&&c.push(i,T,y,o)}else s=mm(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const _=g.length;if(_)for(let E=0;E<_;E+=2){const Z=e[g[E]][g[E+1]].subscribe(s),Se=h.length;h.push(s,Z),c&&c.push(i,r.index,Se,-(Se+1))}}}(s,i,i[Y],o,t,e,!!n,r),$t}function CS(t,e,n,r){try{return!1!==n(r)}catch(i){return OA(t,i),!1}}function mm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?bn(t.index,e):e;0==(32&e[2])&&Qg(a);let u=CS(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=CS(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Iu(t=1){return function E2(t){return(q.lFrame.contextLView=function I2(t,e){for(;t>0;)e=e[15],t--;return e}(t,q.lFrame.contextLView))[8]}(t)}function gd(t,e,n,r,i){const s=I(),o=function ko(t,e,n,r){return jt(t,co(),n)?e+G(n)+r:W}(s,e,n,r);return o!==W&&Tn(ae(),Fe(),s,t,o,s[Y],i,!1),gd}function OS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Zn(s):Hr(s),u=!1;for(;0!==a&&(!1===u||o);){const c=t[a+1];bG(t[a],e)&&(u=!0,t[a+1]=r?Pg(c):Ng(c)),a=r?Zn(c):Hr(c)}u&&(t[n+1]=r?Ng(s):Pg(s))}function bG(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&vo(t,e)>=0}function md(t,e){return function nr(t,e,n,r){const i=I(),s=ae(),o=$r(2);s.firstUpdatePass&&function GS(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Yt()],o=function HS(t,e){return e>=t.expandoStartIndex}(t,n);(function KS(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function NG(t,e,n,r){const i=function zp(t){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bu(n=ym(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ym(i,t,e,n,r),null===s){let u=function RG(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Hr(r))return t[Zn(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=ym(null,t,e,u[1],r),u=bu(u,e.attrs,r),function PG(t,e,n,r){t[Zn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function OG(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=bu(r,t[s].hostAttrs,n);return bu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function EG(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Zn(o),u=Hr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const d=n;c=d[1],(null===c||vo(d,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const h=Zn(t[a+1]);t[r+1]=od(h,a),0!==h&&(t[h+1]=Rg(t[h+1],r)),t[a+1]=function O$(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=od(a,0),0!==a&&(t[a+1]=Rg(t[a+1],r)),a=r;else t[r+1]=od(u,0),0===a?a=r:t[u+1]=Rg(t[u+1],r),u=r;l&&(t[r+1]=Ng(t[r+1])),OS(t,c,r,!0),OS(t,c,r,!1),function IG(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&vo(s,e)>=0&&(n[r+1]=Pg(n[r+1]))}(e,c,t,r,s),o=od(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==W&&jt(i,o,e)&&function WS(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];yd(function uA(t){return 1==(1&t)}(l)?zS(u,e,n,i,Hr(l),o):void 0)||(yd(s)||function aA(t){return 2==(2&t)}(l)&&(s=zS(u,null,n,i,a,o)),function b$(t,e,n,r,i){const s=Oe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Cn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Cn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,Oc(Yt(),n),i,s))}(s,s.data[Yt()],i,i[Y],t,i[o+1]=function VG(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ge(_i(t)))),t}(e,n),r,o)}(t,e,null,!0),md}function ym(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=bu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Dn(t,o,!!n||e[++s]))}return void 0===t?null:t}function zS(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=n[i+1];h===W&&(h=d?Ee:void 0);let f=d?ig(h,r):c===r?h:void 0;if(l&&!yd(f)&&(f=ig(u,r)),yd(f)&&(a=f,o))return a;const p=t[i+1];i=o?Zn(p):Hr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=ig(u,r))}return a}function yd(t){return void 0!==t}function Te(t,e=""){const n=I(),r=ae(),i=t+20,s=r.firstCreatePass?Do(r,i,1,e,null):r.data[i],o=n[i]=function Dg(t,e){return Oe(t)?t.createText(e):t.createTextNode(e)}(n[Y],e);id(r,n,o,s),gr(s,!1)}function Du(t,e,n,r,i){const s=I(),o=No(s,t,e,n,r,i);return o!==W&&Gr(s,Yt(),o),Du}const _d="en-US";let mx=_d;function Em(t,e,n,r,i){if(t=Q(t),Array.isArray(t))for(let s=0;s<t.length;s++)Em(t[s],e,n,r,i);else{const s=ae(),o=I();let a=So(t)?t:Q(t.provide),u=jA(t);const l=nt(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(So(t)||!t.multi){const f=new Ya(u,i,b),p=bm(a,e,i?c:c+h,d);-1===p?(Wc(Xa(l,o),s,a),Im(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=bm(a,e,c+h,d),p=bm(a,e,c,c+h),g=f>=0&&n[f],_=p>=0&&n[p];if(i&&!_||!i&&!g){Wc(Xa(l,o),s,a);const E=function rW(t,e,n,r,i){const s=new Ya(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,Bx(s,i,r&&!n),s}(i?nW:tW,n.length,i,r,u);!i&&_&&(n[p].providerFactory=E),Im(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(E),o.push(E)}else Im(s,t,f>-1?f:p,Bx(n[i?p:f],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function Im(t,e,n,r){const i=So(e),s=function TH(t){return!!t.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(n);-1===c?l.push(n,[r,u]):l[c+1].push(r,u)}else l.push(n,u)}}}function Bx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function bm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function tW(t,e,n,r){return Dm(this.multi,[])}function nW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Za(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Dm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Dm(i,s);return s}function Dm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Me(t,e=[]){return n=>{n.providersResolver=(r,i)=>function eW(t,e,n){const r=ae();if(r.firstCreatePass){const i=Jn(t);Em(n,r.data,r.blueprint,i,!0),Em(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class jx{}class oW{resolveComponentFactory(e){throw function sW(t){const e=Error(`No component factory found for ${ge(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let xu=(()=>{class t{}return t.NULL=new oW,t})();function aW(){return Ho(nt(),I())}function Ho(t,e){return new An(Ln(t,e))}let An=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=aW,t})();class Hx{}let qr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function cW(){const t=I(),n=bn(nt().index,t);return function lW(t){return t[Y]}(pr(n)?n:t)}(),t})(),dW=(()=>{class t{}return t.\u0275prov=ee({token:t,providedIn:"root",factory:()=>null}),t})();class Go{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Gx=new Go("13.3.8"),Cm={};function bd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(qe(s)),Yn(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&bd(u[1],u,l,r)}const o=n.type;if(8&o)bd(t,e,n.child,r);else if(32&o){const a=Eg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Y0(e,n);if(Array.isArray(a))r.push(...a);else{const u=pu(e[16]);bd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Mu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return bd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Yn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Tg(e,r),Kc(n,r))}this._attachedToViewContainer=!1}j0(this._lView[1],this._lView)}onDestroy(e){!function IA(t,e,n,r){const i=NA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&RA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Qg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Jg(t,e,n){const r=e[10];r.begin&&r.begin();try{To(t,e,t.template,n)}catch(i){throw OA(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function f$(t,e){gu(t,e,e[Y],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new oe(902,"");this._appRef=e}}class hW extends Mu{constructor(e){super(e),this._view=e}detectChanges(){kA(this._view)}checkNoChanges(){}get context(){return null}}class qx extends xu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ft(e);return new Tm(n,this.ngModule)}}function Wx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Tm extends jx{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function R$(t){return t.map(N$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Wx(this.componentDef.inputs)}get outputs(){return Wx(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function pW(t,e){return{get:(n,r,i)=>{const s=t.get(n,Cm,i);return s!==Cm||r===Cm?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Hx,xT),a=s.get(dW,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function EA(t,e,n){if(Oe(t))return t.selectRootElement(e,n===fr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Cg(o.createRenderer(null,this.componentDef),l,function fW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),d=this.componentDef.onPush?576:528,h=function ZA(t,e){return{components:[],scheduler:t||s$,clean:yH,playerHandler:e||null,flags:0}}(),f=ld(0,null,null,1,0,null,null,null,null,null),p=mu(null,f,h,d,null,null,o,u,a,s);let g,_;Lc(p);try{const E=function JA(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Do(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(dd(u,l,!0),null!==t&&($c(i,t,l),null!==u.classes&&kg(i,t,u.classes),null!==u.styles&&Z0(i,t,u.styles)));const c=r.createRenderer(t,e),d=mu(n,vA(e),null,e.onPush?64:16,n[20],u,r,c,s||null,null);return o.firstCreatePass&&(Wc(Xa(u,n),o,e.type),AA(o,u),SA(u,n.length,1)),cd(n,d),n[20]=d}(c,this.componentDef,p,o,u);if(c)if(r)$c(u,c,["ng-version",Gx.full]);else{const{attrs:y,classes:T}=function P$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Xn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&$c(u,c,y),T&&T.length>0&&kg(u,c,T.join(" "))}if(_=jp(f,20),void 0!==n){const y=_.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const P=n[T];y.push(null!=P?Array.from(P):null)}}g=function XA(t,e,n,r,i){const s=n[1],o=function tH(t,e,n){const r=nt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),xA(t,r,e,Co(t,e,1,null),n));const i=Za(e,t,r.directiveStart,r);Ut(i,e);const s=Ln(r,e);return s&&Ut(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=nt();e.contentQueries(1,o,u.directiveStart)}const a=nt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(mi(a.index),CA(n[1],a,0,a.directiveStart,a.directiveEnd,e),TA(e,o)),o}(E,this.componentDef,p,h,[LH]),yu(f,p,null)}finally{Vc()}return new mW(this.componentType,g,Ho(_,p),p,_)}}class mW extends class iW{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new hW(i),this.componentType=e}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Wr{}class zx{}const qo=new Map;class Yx extends Wr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qx(this);const r=Rn(e);this._bootstrapComponents=_r(r.bootstrap),this._r3Injector=BA(e,n,[{provide:Wr,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],ge(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Bt.THROW_IF_NOT_FOUND,r=$.Default){return e===Bt||e===Wr||e===Zg?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Am extends zx{constructor(e){super(),this.moduleType=e,null!==Rn(e)&&function _W(t){const e=new Set;!function n(r){const i=Rn(r,!0),s=i.id;null!==s&&(function Kx(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${ge(e)} vs ${ge(e.name)}`)}(s,qo.get(s),r),qo.set(s,r));const o=_r(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new Yx(this.moduleType,e)}}function Sm(t){return e=>{setTimeout(t,void 0,e)}}const Ve=class FW extends Or{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Sm(u),a&&(a=Sm(a)),l&&(l=Sm(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof _n&&e.add(c),c}};Symbol;let zr=(()=>{class t{}return t.__NG_ELEMENT_ID__=BW,t})();const VW=zr,UW=class extends VW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=mu(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),yu(n,r,e),new Mu(r)}};function BW(){return function Dd(t,e){return 4&t.type?new UW(e,t,Ho(t,e)):null}(nt(),I())}let ir=(()=>{class t{}return t.__NG_ELEMENT_ID__=jW,t})();function jW(){return function iM(t,e){let n;const r=e[t.index];if(Yn(r))n=r;else{let i;if(8&t.type)i=qe(r);else{const s=e[Y];i=s.createComment("");const o=Ln(t,e);es(s,rd(s,o),i,function w$(t,e){return Oe(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=MA(r,e,i,t),cd(e,n)}return new nM(n,t,e)}(nt(),I())}const $W=ir,nM=class extends $W{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){const e=qc(this._hostTNode,this._hostLView);if(zT(e)){const n=fo(e,this._hostLView),r=ho(e);return new po(n[1].data[r+8],n)}return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=rM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function nu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Tm(Ft(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(Wr,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(function c2(t){return Yn(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new nM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function g$(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],r0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function m$(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=xg(s,o),u=r[Y],l=rd(u,o[7]);return null!==l&&function h$(t,e,n,r,i,s){r[0]=i,r[6]=e,gu(t,r,n,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),r0(Mm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=rM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Tg(this._lContainer,n);r&&(Kc(Mm(this._lContainer),n),j0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Tg(this._lContainer,n);return r&&null!=Kc(Mm(this._lContainer),n)?new Mu(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function rM(t){return t[8]}function Mm(t){return t[8]||(t[8]=[])}function Ad(...t){}const Gm=new z("Application Initializer");let qm=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ad,this.reject=Ad,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Eu(s))n.push(s);else if(gm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(F(Gm,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Pu=new z("AppId",{providedIn:"root",factory:function TM(){return`${Wm()}${Wm()}${Wm()}`}});function Wm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AM=new z("Platform Initializer"),Sd=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),SM=new z("appBootstrapListener");let gz=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ei=new z("LocaleId",{providedIn:"root",factory:()=>nj(Ei,$.Optional|$.SkipSelf)||function mz(){return"undefined"!=typeof $localize&&$localize.locale||_d}()});class _z{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let xM=(()=>{class t{compileModuleSync(n){return new Am(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=_r(Rn(n).declarations).reduce((o,a)=>{const u=Ft(a);return u&&o.push(new Tm(u)),o},[]);return new _z(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const wz=(()=>Promise.resolve(0))();function zm(t){"undefined"==typeof Zone?wz.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Ez(){let t=_e.requestAnimationFrame,e=_e.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Dz(t){const e=()=>{!function bz(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_e,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qm(t),t.isCheckStableRunning=!0,Km(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return MM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),kM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return MM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),kM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Qm(t),Km(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Iz,Ad,Ad);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Iz={};function Km(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function MM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kM(t){t._nesting--,Km(t)}class Cz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Ym=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),zm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F(Ke))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),Tz=(()=>{class t{constructor(){this._applications=new Map,Jm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Jm.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class Az{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Jm=new Az,is=null;const NM=new z("AllowMultipleToken"),RM=new z("PlatformOnDestroy");class PM{constructor(e,n){this.name=e,this.token=n}}function OM(t,e,n=[]){const r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=Xm();if(!o||o.injector.get(NM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function kz(t){if(is&&!is.get(NM,!1))throw new oe(400,"");is=t;const e=t.get(FM),n=t.get(AM,null);n&&n.forEach(r=>r())}(function Rz(t=[],e){return Bt.create({name:e,providers:[{provide:em,useValue:"platform"},{provide:RM,useValue:()=>is=null},...t]})}(a,r))}return function Nz(t){const e=Xm();if(!e)throw new oe(401,"");return e}()}}function Xm(){var t;return null!==(t=null==is?void 0:is.get(FM))&&void 0!==t?t:null}let FM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function Pz(t,e){let n;return n="noop"===t?new Cz:("zone.js"===t?void 0:t)||new Ke({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Ke,useValue:a}];return a.run(()=>{const l=Bt.create({providers:u,parent:this.injector,name:n.moduleType.name}),c=n.create(l),d=c.injector.get(fu,null);if(!d)throw new oe(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{ey(this._modules,c),h.unsubscribe()})}),function Oz(t,e,n){try{const r=n();return Eu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(qm);return h.runInitializers(),h.donePromise.then(()=>(function lq(t){wn(t,"Expected localeId to be defined"),"string"==typeof t&&(mx=t.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Ei,_d)||_d),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,r=[]){const i=LM({},r);return function xz(t,e,n){const r=new Am(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Zm);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new oe(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(RM,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(Bt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function LM(t,e){return Array.isArray(e)?e.reduce(LM,t):Object.assign(Object.assign({},t),e)}let Zm=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Re(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new Re(u=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),zm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function xB(...t){const e=Ga(t),n=function IB(t,e){return"number"==typeof Ip(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?hr(r[0]):Ha(n)(ft(r,e)):Lr}(o,a.pipe(function MB(t={}){const{connector:e=(()=>new Or),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,c=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return Ct((g,_)=>{l++,!d&&!c&&h();const E=u=null!=u?u:e();_.add(()=>{l--,0===l&&!d&&!c&&(a=bp(p,i))}),E.subscribe(_),o||(o=new Ic({next:y=>E.next(y),error:y=>{d=!0,h(),a=bp(f,n,y),E.error(y)},complete:()=>{c=!0,h(),a=bp(f,r),E.complete()}}),ft(g).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new oe(405,"");let i;i=n instanceof jx?n:this._injector.get(xu).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function Mz(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Wr),a=i.create(Bt.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(Ym,null),c=l&&a.injector.get(Tz);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),ey(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new oe(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ey(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(SM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(F(Ke),F(Bt),F(fu),F(qm))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ey(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let UM=!0,xd=(()=>{class t{}return t.__NG_ELEMENT_ID__=Vz,t})();function Vz(t){return function Uz(t,e,n){if(Rc(t)&&!n){const r=bn(t.index,e);return new Mu(r,r)}return 47&t.type?new Mu(e[16],e):null}(nt(),I(),16==(16&t))}class GM{constructor(){}supports(e){return vu(e)}create(e){return new qz(e)}}const Gz=(t,e)=>e;class qz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Gz}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<WM(r,i,s)?n:r,a=WM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!vu(e))throw new oe(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function zH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Wz(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new qM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Wz{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class qM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new zz,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function KM(){return new Nd([new GM])}let Nd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||KM()),deps:[[t,new au,new gt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new oe(901,"")}}return t.\u0275prov=ee({token:t,providedIn:"root",factory:KM}),t})();const Xz=OM(null,"core",[]);let Zz=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(Zm))},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})(),Rd=null;function Dr(){return Rd}const Bn=new z("DocumentToken");let os=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:function(){return function r3(){return F(YM)}()},providedIn:"platform"}),t})();const i3=new z("Location Initialized");let YM=(()=>{class t extends os{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dr().getBaseHref(this._doc)}onPopState(n){const r=Dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){JM()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){JM()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ee({token:t,factory:function(){return function s3(){return new YM(F(Bn))}()},providedIn:"platform"}),t})();function JM(){return!!window.history.pushState}function sy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function XM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Kr(t){return t&&"?"!==t[0]?"?"+t:t}let zo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:function(){return function o3(t){const e=F(Bn).location;return new ZM(F(os),e&&e.origin||"")}()},providedIn:"root"}),t})();const oy=new z("appBaseHref");let ZM=(()=>{class t extends zo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return sy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(os),F(oy,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),a3=(()=>{class t extends zo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=sy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(os),F(oy,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),ay=(()=>{class t{constructor(n,r){this._subject=new Ve,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=XM(ek(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Kr(r))}normalize(n){return t.stripTrailingSlash(function l3(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ek(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Kr,t.joinWithSlash=sy,t.stripTrailingSlash=XM,t.\u0275fac=function(n){return new(n||t)(F(zo),F(os))},t.\u0275prov=ee({token:t,factory:function(){return function u3(){return new ay(F(zo),F(os))}()},providedIn:"root"}),t})();function ek(t){return t.replace(/\/index.html$/,"")}class Q3{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lk=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Q3(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),ck(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{ck(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(ir),b(zr),b(Nd))},t.\u0275dir=B({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function ck(t,e){t.context.$implicit=e.item}let yy=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Y3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){dk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){dk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(ir),b(zr))},t.\u0275dir=B({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Y3{constructor(){this.$implicit=null,this.ngIf=null}}function dk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ge(e)}'.`)}let b4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})();let A4=(()=>{class t{}return t.\u0275prov=ee({token:t,providedIn:"root",factory:()=>new S4(F(Bn),window)}),t})();class S4{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function x4(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=gk(this.window.history)||gk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function gk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Iy extends class k4 extends class n3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function t3(t){Rd||(Rd=t)}(new Iy)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function N4(){return Vu=Vu||document.querySelector("base"),Vu?Vu.getAttribute("href"):null}();return null==n?null:function R4(t){Hd=Hd||document.createElement("a"),Hd.setAttribute("href",t);const e=Hd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Vu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function W3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Hd,Vu=null;const mk=new z("TRANSITION_ID"),O4=[{provide:Gm,useFactory:function P4(t,e,n){return()=>{n.get(qm).donePromise.then(()=>{const r=Dr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[mk,Bn,Bt],multi:!0}];class by{static init(){!function Sz(t){Jm=t}(new by)}addToWindow(e){_e.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},_e.getAllAngularTestabilities=()=>e.getAllTestabilities(),_e.getAllAngularRootElements=()=>e.getAllRootElements(),_e.frameworkStabilizers||(_e.frameworkStabilizers=[]),_e.frameworkStabilizers.push(r=>{const i=_e.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Dr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let F4=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Gd=new z("EventManagerPlugins");let qd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(F(Gd),F(Ke))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class yk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Dr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let _k=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),Uu=(()=>{class t extends _k{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(vk),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(vk))}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function vk(t){Dr().remove(t)}const Dy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cy=/%COMP%/g;function Wd(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Wd(t,i,n):(i=i.replace(Cy,t),n.push(i))}return n}function Ik(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ty=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ay(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case fr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new $4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case fr.ShadowDom:return new H4(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Wd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(F(qd),F(Uu),F(Pu))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class Ay{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Dy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Dy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Dy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(n,r,i&Cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Ik(r)):this.eventManager.addEventListener(e,n,Ik(r))}}class $4 extends Ay{constructor(e,n,r,i){super(e),this.component=r;const s=Wd(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function U4(t){return"_ngcontent-%COMP%".replace(Cy,t)}(i+"-"+r.id),this.hostAttr=function B4(t){return"_nghost-%COMP%".replace(Cy,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class H4 extends Ay{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Wd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let G4=(()=>{class t extends yk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Dk=["alt","control","meta","shift"],W4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ck={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},z4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let K4=(()=>{class t extends yk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Dk.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function Q4(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ck.hasOwnProperty(e)&&(e=Ck[e]))}return W4[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Dk.forEach(s=>{s!=i&&z4[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Z4=OM(Xz,"browser",[{provide:Sd,useValue:"browser"},{provide:AM,useValue:function Y4(){Iy.makeCurrent(),by.init()},multi:!0},{provide:Bn,useFactory:function X4(){return function o2(t){Up=t}(document),document},deps:[]}]),e8=[{provide:em,useValue:"root"},{provide:fu,useFactory:function J4(){return new fu},deps:[]},{provide:Gd,useClass:G4,multi:!0,deps:[Bn,Ke,Sd]},{provide:Gd,useClass:K4,multi:!0,deps:[Bn]},{provide:Ty,useClass:Ty,deps:[qd,Uu,Pu]},{provide:Hx,useExisting:Ty},{provide:_k,useExisting:Uu},{provide:Uu,useClass:Uu,deps:[Bn]},{provide:Ym,useClass:Ym,deps:[Ke]},{provide:qd,useClass:qd,deps:[Gd,Ke]},{provide:class M4{},useClass:F4,deps:[]}];let t8=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Pu,useValue:n.appId},{provide:mk,useExisting:Pu},O4]}}}return t.\u0275fac=function(n){return new(n||t)(F(t,12))},t.\u0275mod=En({type:t}),t.\u0275inj=un({providers:e8,imports:[b4,Zz]}),t})();function Sk(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(l){return void n(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Sk(s,r,i,o,a,"next",u)}function a(u){Sk(s,r,i,o,a,"throw",u)}o(void 0)})}}"undefined"!=typeof window&&window;const xk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},My={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zd=function(t){return function(t){const e=xk(t);return My.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class Ny{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Sn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function kk(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function Kd(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Nk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function as(){return"object"==typeof indexedDB}function Bu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Ry(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cr.prototype.create)}}class Cr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function I8(t,e){return t.replace(b8,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Yr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const b8=/\{\$([^}]+)}/g;function Py(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Pk(s)&&Pk(o)){if(!Py(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pk(t){return null!==t&&"object"==typeof t}function Ok(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class C8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function T8(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Oy),void 0===i.error&&(i.error=Oy),void 0===i.complete&&(i.complete=Oy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Oy(){}function Ly(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Hn(t){return t&&t._delegate?t._delegate:t}class Ht{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const us="[DEFAULT]";class N8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ny;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function P8(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===us?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class O8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new N8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Vy=[];var le=(()=>{return(t=le||(le={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",le;var t})();const Fk={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},F8=le.INFO,L8={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},V8=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=L8[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ko{constructor(e){this.name=e,this._logLevel=F8,this._logHandler=V8,this._userLogHandler=null,Vy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Fk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}let Lk,Vk;const Uk=new WeakMap,Uy=new WeakMap,Bk=new WeakMap,By=new WeakMap,jy=new WeakMap;let $y={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Uy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Bk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function W8(t){return"function"==typeof t?function q8(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function j8(){return Vk||(Vk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Hy(this),e),Jr(Uk.get(this))}:function(...e){return Jr(t.apply(Hy(this),e))}:function(e,...n){const r=t.call(Hy(this),e,...n);return Bk.set(r,e.sort?e.sort():[e]),Jr(r)}}(t):(t instanceof IDBTransaction&&function H8(t){if(Uy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Uy.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function B8(){return Lk||(Lk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,$y):t)}function Jr(t){if(t instanceof IDBRequest)return function $8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Uk.set(n,t)}).catch(()=>{}),jy.set(e,t),e}(t);if(By.has(t))return By.get(t);const e=W8(t);return e!==t&&(By.set(t,e),jy.set(e,t)),e}const Hy=t=>jy.get(t);function Yd(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Jr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Jr(o.result),u.oldVersion,u.newVersion,Jr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Gy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Jr(n).then(()=>{})}const z8=["get","getKey","getAll","getAllKeys","count"],K8=["put","add","delete","clear"],qy=new Map;function jk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(qy.get(e))return qy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!z8.includes(n))return;const s=function(){var o=m(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[n](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return qy.set(e,s),s}!function G8(t){$y=t($y)}(t=>KU(zU({},t),{get:(e,n,r)=>jk(e,n)||t.get(e,n,r),has:(e,n)=>!!jk(e,n)||t.has(e,n)}));class Q8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Y8(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Wy="@firebase/app",zy=new Ko("@firebase/app"),Ky="[DEFAULT]",I6={[Wy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ls=new Map,Jd=new Map;function b6(t,e){try{t.container.addComponent(e)}catch(n){zy.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){const e=t.name;if(Jd.has(e))return zy.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,t);for(const n of ls.values())b6(n,t);return!0}function Xd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const bi=new Cr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class C6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}function T6(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Ky,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw bi.create("bad-app-name",{appName:String(r)});const i=ls.get(r);if(i){if(Py(t,i.options)&&Py(n,i.config))return i;throw bi.create("duplicate-app",{appName:r})}const s=new O8(r);for(const a of Jd.values())s.addComponent(a);const o=new C6(t,n,s);return ls.set(r,o),o}function Hk(t=Ky){const e=ls.get(t);if(!e)throw bi.create("no-app",{appName:t});return e}function Gk(){return Array.from(ls.values())}function $e(t,e,n){var r;let i=null!==(r=I6[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void zy.warn(a.join(" "))}en(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ju="firebase-heartbeat-store";let Yy=null;function qk(){return Yy||(Yy=Yd("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ju)}}).catch(t=>{throw bi.create("storage-open",{originalErrorMessage:t.message})})),Yy}function Jy(){return(Jy=m(function*(t){try{return(yield qk()).transaction(ju).objectStore(ju).get(zk(t))}catch(e){throw bi.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function Wk(t,e){return Xy.apply(this,arguments)}function Xy(){return(Xy=m(function*(t,e){try{const r=(yield qk()).transaction(ju,"readwrite");return yield r.objectStore(ju).put(e,zk(t)),r.done}catch(n){throw bi.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function zk(t){return`${t.name}!${t.options.appId}`}class N6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Kk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Kk(),{heartbeatsToSend:r,unsentEntries:i}=function R6(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Qk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=zd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Kk(){return(new Date).toISOString().substring(0,10)}class P6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!as()&&Bu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function x6(t){return Jy.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Wk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Wk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Qk(t){return zd(JSON.stringify({version:2,heartbeats:t})).length}!function O6(t){en(new Ht("platform-logger",e=>new Q8(e),"PRIVATE")),en(new Ht("heartbeat",e=>new N6(e),"PRIVATE")),$e(Wy,"0.7.24",t),$e(Wy,"0.7.24","esm2017"),$e("fire-js","")}(""),$e("firebase","9.8.1","app");const Yk="@firebase/installations",Xk="w:0.5.9",Zk="FIS_v2",Xr=new Cr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function eN(t){return t instanceof Yr&&t.code.includes("request-failed")}function e_({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function tN(t){return{token:t.token,requestStatus:2,expiresIn:H6(t.expiresIn),creationTime:Date.now()}}function t_(t,e){return n_.apply(this,arguments)}function n_(){return(n_=m(function*(t,e){const r=(yield e.json()).error;return Xr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function nN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function rN(t,{refreshToken:e}){const n=nN(t);return n.append("Authorization",function G6(t){return`${Zk} ${t}`}(e)),n}function r_(t){return i_.apply(this,arguments)}function i_(){return(i_=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function H6(t){return Number(t.replace("s","000"))}function q6(t,e){return s_.apply(this,arguments)}function s_(){return(s_=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=e_(t),i=nN(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Zk,appId:t.appId,sdkVersion:Xk})},u=yield r_(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:tN(l.authToken)}}throw yield t_("Create Installation",u)})).apply(this,arguments)}function iN(t){return new Promise(e=>{setTimeout(e,t)})}const z6=/^[cdef][\w-]{21}$/;function K6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Q6(t){return function W6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return z6.test(n)?n:""}catch(t){return""}}function Qo(t){return`${t.appName}!${t.appId}`}const Yo=new Map;function sN(t,e){const n=Qo(t);oN(n,e),function X6(t,e){const n=function aN(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{oN(t.data.key,t.data.fid)}),cs}();n&&n.postMessage({key:t,fid:e}),function uN(){0===Yo.size&&cs&&(cs.close(),cs=null)}()}(n,e)}function oN(t,e){const n=Yo.get(t);if(n)for(const r of n)r(e)}let cs=null;const ds="firebase-installations-store";let a_=null;function u_(){return a_||(a_=Yd("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ds)}})),a_}function eh(t,e){return l_.apply(this,arguments)}function l_(){return(l_=m(function*(t,e){const n=Qo(t),i=(yield u_()).transaction(ds,"readwrite"),s=i.objectStore(ds),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&sN(t,e.fid),e})).apply(this,arguments)}function c_(t){return d_.apply(this,arguments)}function d_(){return(d_=m(function*(t){const e=Qo(t),r=(yield u_()).transaction(ds,"readwrite");yield r.objectStore(ds).delete(e),yield r.done})).apply(this,arguments)}function $u(t,e){return h_.apply(this,arguments)}function h_(){return(h_=m(function*(t,e){const n=Qo(t),i=(yield u_()).transaction(ds,"readwrite"),s=i.objectStore(ds),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&sN(t,a.fid),a})).apply(this,arguments)}function f_(t){return p_.apply(this,arguments)}function p_(){return(p_=m(function*(t){let e;const n=yield $u(t.appConfig,r=>{const i=tK(r),s=nK(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function tK(t){return cN(t||{fid:K6(),registrationStatus:0})}function nK(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Xr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function rK(t,e){return g_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:iK(t)}:{installationEntry:e}}function g_(){return(g_=m(function*(t,e){try{const n=yield q6(t,e);return eh(t.appConfig,n)}catch(n){throw eN(n)&&409===n.customData.serverCode?yield c_(t.appConfig):yield eh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function iK(t){return m_.apply(this,arguments)}function m_(){return(m_=m(function*(t){let e=yield lN(t.appConfig);for(;1===e.registrationStatus;)yield iN(100),e=yield lN(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield f_(t);return r||n}return e})).apply(this,arguments)}function lN(t){return $u(t,e=>{if(!e)throw Xr.create("installation-not-found");return cN(e)})}function cN(t){return function sK(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function oK(t,e){return y_.apply(this,arguments)}function y_(){return(y_=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=aK(t,n),i=rN(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Xk,appId:t.appId}})},u=yield r_(()=>fetch(r,a));if(u.ok)return tN(yield u.json());throw yield t_("Generate Auth Token",u)})).apply(this,arguments)}function aK(t,{fid:e}){return`${e_(t)}/${e}/authTokens:generate`}function __(t){return v_.apply(this,arguments)}function v_(){return(v_=m(function*(t,e=!1){let n;const r=yield $u(t.appConfig,s=>{if(!hN(s))throw Xr.create("not-registered");const o=s.authToken;if(!e&&cK(o))return s;if(1===o.requestStatus)return n=uK(t,e),s;{if(!navigator.onLine)throw Xr.create("app-offline");const a=hK(s);return n=lK(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function uK(t,e){return w_.apply(this,arguments)}function w_(){return(w_=m(function*(t,e){let n=yield dN(t.appConfig);for(;1===n.authToken.requestStatus;)yield iN(100),n=yield dN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?__(t,e):r})).apply(this,arguments)}function dN(t){return $u(t,e=>{if(!hN(e))throw Xr.create("not-registered");return function fK(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function lK(t,e){return E_.apply(this,arguments)}function E_(){return(E_=m(function*(t,e){try{const n=yield oK(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield eh(t.appConfig,r),n}catch(n){if(!eN(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield eh(t.appConfig,r)}else yield c_(t.appConfig);throw n}})).apply(this,arguments)}function hN(t){return void 0!==t&&2===t.registrationStatus}function cK(t){return 2===t.requestStatus&&!function dK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function hK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function I_(){return(I_=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield f_(e);return r?r.catch(console.error):__(e).catch(console.error),n.fid})).apply(this,arguments)}function b_(){return(b_=m(function*(t,e=!1){const n=t;return yield mK(n),(yield __(n,e)).token})).apply(this,arguments)}function mK(t){return D_.apply(this,arguments)}function D_(){return(D_=m(function*(t){const{registrationPromise:e}=yield f_(t);e&&(yield e)})).apply(this,arguments)}function A_(t){return Xr.create("missing-app-config-values",{valueName:t})}const fN="installations",EK=t=>{const e=t.getProvider("app").getImmediate(),n=function vK(t){if(!t||!t.options)throw A_("App Configuration");if(!t.name)throw A_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw A_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Xd(e,"heartbeat"),_delete:()=>Promise.resolve()}},IK=t=>{const n=Xd(t.getProvider("app").getImmediate(),fN).getImmediate();return{getId:()=>function pK(t){return I_.apply(this,arguments)}(n),getToken:i=>function gK(t){return b_.apply(this,arguments)}(n,i)}};(function bK(){en(new Ht(fN,EK,"PUBLIC")),en(new Ht("installations-internal",IK,"PRIVATE"))})(),$e(Yk,"0.5.9"),$e(Yk,"0.5.9","esm2017");const S_="@firebase/remote-config",fn=new Cr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class PK{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function OK(t=navigator){return t.languages&&t.languages[0]||t.language}class FK{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:OK()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((E,y)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",y(T)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(E){let y="fetch-client-network";throw"AbortError"===E.name&&(y="fetch-timeout"),fn.create(y,{originalErrorMessage:E.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let E;try{E=yield h.json()}catch(y){throw fn.create("fetch-client-parse",{originalErrorMessage:y.message})}g=E.entries,_=E.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw fn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class UK{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function LK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function VK(t){if(!(t instanceof Yr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Ly(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class $K{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function nh(t,e){const n=t.target.error||void 0;return fn.create(e,{originalErrorMessage:n&&n.message})}const hs="app_namespace_store";class WK{constructor(e,n,r,i=function qK(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(nh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hs,{keyPath:"compositeKey"})}}catch(n){e(fn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([hs],"readonly").objectStore(hs),u=n.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(nh(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(fn.create("storage-get",{originalErrorMessage:l&&l.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([hs],"readwrite").objectStore(hs),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:n});c.onerror=d=>{o(nh(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(fn.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([hs],"readwrite").objectStore(hs),u=n.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(nh(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(fn.create("storage-delete",{originalErrorMessage:l&&l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class zK{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function QK(){return R_.apply(this,arguments)}function R_(){return(R_=m(function*(){if(!as())return!1;try{return yield Bu()}catch(t){return!1}})).apply(this,arguments)}!function KK(){en(new Ht("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fn.create("registration-window");if(!as())throw fn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw fn.create("registration-project-id");if(!o)throw fn.create("registration-api-key");if(!a)throw fn.create("registration-app-id");const u=new WK(a,r.name,n=n||"firebase"),l=new zK(u),c=new Ko(S_);c.logLevel=le.ERROR;const d=new FK(i,"9.8.1",n,s,o,a),h=new UK(d,u),f=new PK(h,u,l,c),p=new $K(r,f,l,u,c);return function kK(t){const e=Hn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),$e(S_,"0.3.8"),$e(S_,"0.3.8","esm2017")}();const YK="/firebase-messaging-sw.js",JK="/firebase-cloud-messaging-push-scope",yN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_N="google.c.a.c_id",ZK="google.c.a.c_l",e7="google.c.a.ts",t7="google.c.a.e";var Jo=(()=>{return(t=Jo||(Jo={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Jo;var t})();function Zr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function n7(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const P_="fcm_token_details_db",vN="fcm_token_object_Store";function i7(t){return O_.apply(this,arguments)}function O_(){return O_=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(P_))return null;let e=null;return(yield Yd(P_,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(vN))return;const l=a.objectStore(vN),c=yield l.index("fcmSenderId").get(t);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Zr(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Zr(d.auth),p256dh:Zr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Zr(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Zr(d.auth),p256dh:Zr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Zr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Gy(P_),yield Gy("fcm_vapid_details_db"),yield Gy("undefined"),s7(e)?e:null;var r}),O_.apply(this,arguments)}function s7(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const fs="firebase-messaging-store";let F_=null;function L_(){return F_||(F_=Yd("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(fs)}})),F_}function wN(t){return V_.apply(this,arguments)}function V_(){return(V_=m(function*(t){const e=$_(t),r=yield(yield L_()).transaction(fs).objectStore(fs).get(e);if(r)return r;{const i=yield i7(t.appConfig.senderId);if(i)return yield U_(t,i),i}})).apply(this,arguments)}function U_(t,e){return B_.apply(this,arguments)}function B_(){return(B_=m(function*(t,e){const n=$_(t),i=(yield L_()).transaction(fs,"readwrite");return yield i.objectStore(fs).put(e,n),yield i.done,e})).apply(this,arguments)}function u7(t){return j_.apply(this,arguments)}function j_(){return(j_=m(function*(t){const e=$_(t),r=(yield L_()).transaction(fs,"readwrite");yield r.objectStore(fs).delete(e),yield r.done})).apply(this,arguments)}function $_({appConfig:t}){return t.appId}const At=new Cr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function c7(t,e){return H_.apply(this,arguments)}function H_(){return(H_=m(function*(t,e){const n=yield z_(t),r=IN(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(W_(t.appConfig),i)).json()}catch(o){throw At.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw At.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function d7(t,e){return G_.apply(this,arguments)}function G_(){return(G_=m(function*(t,e){const n=yield z_(t),r=IN(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${W_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw At.create("token-update-failed",{errorInfo:o})}if(s.error)throw At.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-update-no-token");return s.token})).apply(this,arguments)}function EN(t,e){return q_.apply(this,arguments)}function q_(){return(q_=m(function*(t,e){const r={method:"DELETE",headers:yield z_(t)};try{const s=yield(yield fetch(`${W_(t.appConfig)}/${e}`,r)).json();if(s.error)throw At.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function W_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function z_(t){return K_.apply(this,arguments)}function K_(){return(K_=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function IN({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==yN&&(i.web.applicationPubKey=r),i}const h7=6048e5;function f7(t){return Q_.apply(this,arguments)}function Q_(){return(Q_=m(function*(t){const e=yield g7(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Zr(e.getKey("auth")),p256dh:Zr(e.getKey("p256dh"))},r=yield wN(t.firebaseDependencies);if(r){if(m7(r.subscriptionOptions,n))return Date.now()>=r.createTime+h7?p7(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield EN(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return DN(t.firebaseDependencies,n)}return DN(t.firebaseDependencies,n)})).apply(this,arguments)}function bN(t){return Y_.apply(this,arguments)}function Y_(){return(Y_=m(function*(t){const e=yield wN(t.firebaseDependencies);e&&(yield EN(t.firebaseDependencies,e.token),yield u7(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function p7(t,e){return J_.apply(this,arguments)}function J_(){return(J_=m(function*(t,e){try{const n=yield d7(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield U_(t.firebaseDependencies,r),n}catch(n){throw yield bN(t),n}})).apply(this,arguments)}function DN(t,e){return X_.apply(this,arguments)}function X_(){return(X_=m(function*(t,e){const r={token:yield c7(t,e),createTime:Date.now(),subscriptionOptions:e};return yield U_(t,r),r.token})).apply(this,arguments)}function g7(t,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n7(e)})})).apply(this,arguments)}function m7(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function CN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function y7(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function _7(t,e){!e.data||(t.data=e.data)}(e,t),function v7(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function w7(t){return"object"==typeof t&&!!t&&_N in t}function TN(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function ev(t){return At.create("missing-app-config-values",{valueName:t})}TN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),TN("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class I7{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function E7(t){if(!t||!t.options)throw ev("App Configuration Object");if(!t.name)throw ev("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw ev(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function AN(t){return tv.apply(this,arguments)}function tv(){return(tv=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(YK,{scope:JK}),t.swRegistration.update().catch(()=>{})}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function b7(t,e){return nv.apply(this,arguments)}function nv(){return(nv=m(function*(t,e){if(!e&&!t.swRegistration&&(yield AN(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function D7(t,e){return rv.apply(this,arguments)}function rv(){return(rv=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=yN)})).apply(this,arguments)}function iv(){return(iv=m(function*(t,e){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield D7(t,null==e?void 0:e.vapidKey),yield b7(t,null==e?void 0:e.serviceWorkerRegistration),f7(t)})).apply(this,arguments)}function C7(t,e,n){return sv.apply(this,arguments)}function sv(){return(sv=m(function*(t,e,n){const r=T7(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[_N],message_name:n[ZK],message_time:n[e7],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function T7(t){switch(t){case Jo.NOTIFICATION_CLICKED:return"notification_open";case Jo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ov(){return(ov=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Jo.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(CN(n)):t.onMessageHandler.next(CN(n)));const r=n.data;w7(r)&&"1"===r[t7]&&(yield C7(t,n.messageType,r))})).apply(this,arguments)}const xN="@firebase/messaging",S7=t=>{const e=new I7(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function A7(t,e){return ov.apply(this,arguments)}(e,n)),e},x7=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function SN(t,e){return iv.apply(this,arguments)}(e,r)}};function kN(){return av.apply(this,arguments)}function av(){return(av=m(function*(){try{yield Bu()}catch(t){return!1}return"undefined"!=typeof window&&as()&&Ry()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function M7(){en(new Ht("messaging",S7,"PUBLIC")),en(new Ht("messaging-internal",x7,"PRIVATE")),$e(xN,"0.9.13"),$e(xN,"0.9.13","esm2017")}();const rh="analytics",R7="firebase_id",F7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",NN="https://www.googletagmanager.com/gtag/js",St=new Ko("@firebase/analytics");function RN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function L7(t,e){const n=document.createElement("script");n.src=`${NN}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function U7(t,e,n,r,i,s){return cv.apply(this,arguments)}function cv(){return(cv=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield RN(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){St.error(a)}t("config",i,s)})).apply(this,arguments)}function B7(t,e,n,r,i){return dv.apply(this,arguments)}function dv(){return(dv=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield RN(n);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){St.error(s)}})).apply(this,arguments)}function H7(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(NN))return e;return null}const xn=new Cr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),PN=new class z7{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function K7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Q7(t){return hv.apply(this,arguments)}function hv(){return(hv=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:K7(r)},s=F7.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw xn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Y7(t){return fv.apply(this,arguments)}function fv(){return(fv=m(function*(t,e=PN,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw xn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Z7;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),ON({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function ON(t,e,n){return pv.apply(this,arguments)}function pv(){return(pv=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=PN){const{appId:s,measurementId:o}=t;try{yield J7(r,e)}catch(a){if(o)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield Q7(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!X7(a)){if(i.deleteThrottleMetadata(s),o)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?Ly(n,i.intervalMillis,30):Ly(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,l),St.debug(`Calling attemptFetch again in ${u} millis`),ON(t,l,r,i)}})).apply(this,arguments)}function J7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function X7(t){if(!(t instanceof Yr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Z7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function e5(){return gv.apply(this,arguments)}function gv(){return(gv=m(function*(){if(!as())return St.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Bu()}catch(t){return St.warn(xn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function mv(){return(mv=m(function*(t,e,n,r,i,s,o){var a;const u=Y7(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>St.error(f)),e.push(u);const l=e5().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);H7()||L7(s,c.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[R7]=d),i("config",c.measurementId,h),c.measurementId})).apply(this,arguments)}class n5{constructor(e){this.app=e}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},FN=[];const LN={};let UN,Hu,ih="dataLayer",yv=!1;function i5(t,e,n){!function r5(){const t=[];if(Kd()&&t.push("This is a browser extension environment."),Ry()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});St.warn(n.message)}}();const r=t.options.appId;if(!r)throw xn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw xn.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[r])throw xn.create("already-exists",{id:r});if(!yv){!function V7(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ih);const{wrappedGtag:s,gtagCore:o}=function $7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function j7(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield B7(t,e,n,a,u):"config"===o?yield U7(t,e,n,r,a,u):t("set",a)}catch(l){St.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ei,FN,LN,ih,"gtag");Hu=s,UN=o,yv=!0}return ei[r]=function t5(t,e,n,r,i,s,o){return mv.apply(this,arguments)}(t,FN,LN,e,UN,ih,n),new n5(t)}function _v(){return(_v=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function d5(){return bv.apply(this,arguments)}function bv(){return(bv=m(function*(){if(Kd()||!Ry()||!as())return!1;try{return yield Bu()}catch(t){return!1}})).apply(this,arguments)}const BN="@firebase/analytics";!function f5(){en(new Ht(rh,(e,{options:n})=>i5(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),en(new Ht("analytics-internal",function t(e){try{const n=e.getProvider(rh).getImmediate();return{logEvent:(r,i,s)=>function h5(t,e,n,r){t=Hn(t),function s5(t,e,n,r,i){return _v.apply(this,arguments)}(Hu,ei[t.app.options.appId],e,n,r).catch(i=>St.error(i))}(n,r,i,s)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),$e(BN,"0.7.9"),$e(BN,"0.7.9","esm2017")}();class p5 extends _n{constructor(e,n){super()}schedule(e,n=0){return this}}const sh={setInterval(t,e,...n){const{delegate:r}=sh;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=sh;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class $N extends p5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return sh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;sh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ro(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const HN={now:()=>(HN.delegate||Date).now(),delegate:void 0};class Gu{constructor(e,n=Gu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Gu.now=HN.now;class GN extends Gu{constructor(e,n=Gu.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const y5=new class m5 extends GN{}(class g5 extends $N{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),_5=new GN($N);function pn(t,e,n){const r=ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ct((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(dt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):zi}const Dv=new Go("7.3.0"),Cv="__angularfire_symbol__analyticsIsSupportedValue",Tv="__angularfire_symbol__analyticsIsSupported",Av="__angularfire_symbol__remoteConfigIsSupportedValue",Sv="__angularfire_symbol__remoteConfigIsSupported",xv="__angularfire_symbol__messagingIsSupportedValue",Mv="__angularfire_symbol__messagingIsSupported";globalThis[Tv]||(globalThis[Tv]=d5().then(t=>globalThis[Cv]=t).catch(()=>globalThis[Cv]=!1)),globalThis[Mv]||(globalThis[Mv]=kN().then(t=>globalThis[xv]=t).catch(()=>globalThis[xv]=!1)),globalThis[Sv]||(globalThis[Sv]=QK().then(t=>globalThis[Av]=t).catch(()=>globalThis[Av]=!1));const Rv=(t,e)=>{const n=e?[e]:Gk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Xo(){}class qN{constructor(e,n=y5){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class v5{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)),n.pipe(pn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let WN=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new qN(Zone.current)),this.insideAngular=n.run(()=>new qN(Zone.current,_5)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(F(Ke))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ps(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function w5(t){return ps().ngZone.runOutsideAngular(()=>t())}function gs(t){return ps().ngZone.run(()=>t())}function E5(t){return ps(),function I5(t){return function(n){return(n=n.lift(new v5(t.ngZone))).pipe(Cc(t.outsideAngular),Dc(t.insideAngular))}}(ps())(t)}const b5=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),gs(()=>t.apply(void 0,r))},oh=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=gs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)))),r[s]=b5(r[s],n));const i=w5(()=>t.apply(this,r));if(!e){if(i instanceof Re){const s=ps();return i.pipe(Cc(s.outsideAngular),Dc(s.insideAngular))}return gs(()=>i)}return i instanceof Re?i.pipe(E5):i instanceof Promise?gs(()=>new Promise((s,o)=>i.then(a=>gs(()=>s(a)),a=>gs(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:gs(()=>i)};class Zo{constructor(e){return e}}class zN{constructor(){return Gk()}}const Pv=new z("angularfire2._apps"),C5={provide:Zo,useFactory:function D5(t){return t&&1===t.length?t[0]:new Zo(Hk())},deps:[[new gt,Pv]]},T5={provide:zN,deps:[[new gt,Pv]]};function A5(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Zo(r)}}let S5=(()=>{class t{constructor(n){$e("angularfire",Dv.full,"core"),$e("angularfire",Dv.full,"app"),$e("angular",Gx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(F(Sd))},t.\u0275mod=En({type:t}),t.\u0275inj=un({providers:[C5,T5]}),t})();function x5(t,...e){return{ngModule:S5,providers:[{provide:Pv,useFactory:A5(t),multi:!0,deps:[Ke,Bt,WN,...e]}]}}const M5=oh(T6,!0);function X(...t){return ft(t,Ga(t))}class ar extends Or{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:k5}=Array,{getPrototypeOf:N5,prototype:R5,keys:P5}=Object;function KN(t){if(1===t.length){const e=t[0];if(k5(e))return{args:e,keys:null};if(function O5(t){return t&&"object"==typeof t&&N5(t)===R5}(e)){const n=P5(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:F5}=Array;function QN(t){return ye(e=>function L5(t,e){return F5(e)?t(...e):t(e)}(t,e))}function YN(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function JN(t,e,n){t?Fr(n,t,e):e()}function ah(t,e){const n=ie(t)?t:()=>t,r=i=>i.error(n());return new Re(e?i=>e.schedule(r,0,i):r)}const uh=ct(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ov(...t){return function B5(){return Ha(1)}()(ft(t,Ga(t)))}function XN(t){return new Re(e=>{hr(t()).subscribe(e)})}function ZN(){return Ct((t,e)=>{let n=null;t._refCount++;const r=dt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class j5 extends Re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,XC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _n;const n=this.getSubject();e.add(this.source.subscribe(dt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_n.EMPTY)}return e}refCount(){return ZN()(this)}}function ms(t,e){return Ct((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(dt(r,u=>{null==i||i.unsubscribe();let l=0;const c=s++;hr(t(u,c)).subscribe(i=dt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function H5(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(dt(o,c=>{const d=l++;u=a?t(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function eR(t,e){return Ct(H5(t,e,arguments.length>=2,!0))}function ea(t,e){return Ct((n,r)=>{let i=0;n.subscribe(dt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Di(t){return Ct((e,n)=>{let s,r=null,i=!1;r=e.subscribe(dt(n,void 0,void 0,o=>{s=hr(t(o,Di(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function qu(t,e){return ie(e)?ht(t,e,1):ht(t,1)}function Fv(t){return t<=0?()=>Lr:Ct((e,n)=>{let r=[];e.subscribe(dt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function tR(t=G5){return Ct((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function G5(){return new uh}function nR(t){return Ct((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ta(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ea((i,s)=>t(i,s,r)):zi,Tc(1),n?nR(e):tR(()=>new uh))}class ti{constructor(e,n){this.id=e,this.url=n}}class Lv extends ti{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wu extends ti{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rR extends ti{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class z5 extends ti{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class K5 extends ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q5 extends ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y5 extends ti{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J5 extends ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X5 extends ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iR{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sR{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Z5{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e9{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t9{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n9{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oR{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ne="primary";class r9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function na(t){return new r9(t)}const aR="ngNavigationCancelingError";function Vv(t){const e=Error("NavigationCancelingError: "+t);return e[aR]=!0,e}function s9(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Tr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!uR(t[i],e[i]))return!1;return!0}function uR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function lR(t){return Array.prototype.concat.apply([],t)}function cR(t){return t.length>0?t[t.length-1]:null}function xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ar(t){return gm(t)?t:Eu(t)?ft(Promise.resolve(t)):X(t)}const u9={exact:function fR(t,e,n){if(!_s(t.segments,e.segments)||!lh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!fR(t.children[r],e.children[r],n))return!1;return!0},subset:pR},dR={exact:function l9(t,e){return Tr(t,e)},subset:function c9(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>uR(t[n],e[n]))},ignored:()=>!0};function hR(t,e,n){return u9[n.paths](t.root,e.root,n.matrixParams)&&dR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function pR(t,e,n){return gR(t,e,e.segments,n)}function gR(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!_s(i,n)||e.hasChildren()||!lh(i,n,r))}if(t.segments.length===n.length){if(!_s(t.segments,n)||!lh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!pR(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(_s(t.segments,i)&&lh(t.segments,i,r)&&t.children[ne])&&gR(t.children[ne],e,s,r)}}function lh(t,e,n){return e.every((r,i)=>dR[n](t[i].parameters,r.parameters))}class ys{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){return f9.serialize(this)}}class se{constructor(e,n){this.segments=e,this.children=n,this.parent=null,xt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ch(this)}}class zu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=na(this.parameters)),this._parameterMap}toString(){return wR(this)}}function _s(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class mR{}class yR{parse(e){const n=new I9(e);return new ys(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ku(e.root,!0)}`,r=function m9(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${dh(n)}=${dh(i)}`).join("&"):`${dh(n)}=${dh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function p9(t){return encodeURI(t)}(e.fragment)}`:""}`}}const f9=new yR;function ch(t){return t.segments.map(e=>wR(e)).join("/")}function Ku(t,e){if(!t.hasChildren())return ch(t);if(e){const n=t.children[ne]?Ku(t.children[ne],!1):"",r=[];return xt(t.children,(i,s)=>{s!==ne&&r.push(`${s}:${Ku(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function h9(t,e){let n=[];return xt(t.children,(r,i)=>{i===ne&&(n=n.concat(e(r,i)))}),xt(t.children,(r,i)=>{i!==ne&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ne?[Ku(t.children[ne],!1)]:[`${i}:${Ku(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ne]?`${ch(t)}/${n[0]}`:`${ch(t)}/(${n.join("//")})`}}function _R(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dh(t){return _R(t).replace(/%3B/gi,";")}function Uv(t){return _R(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hh(t){return decodeURIComponent(t)}function vR(t){return hh(t.replace(/\+/g,"%20"))}function wR(t){return`${Uv(t.path)}${function g9(t){return Object.keys(t).map(e=>`;${Uv(e)}=${Uv(t[e])}`).join("")}(t.parameters)}`}const y9=/^[^\/()?;=#]+/;function fh(t){const e=t.match(y9);return e?e[0]:""}const _9=/^[^=?&#]+/,w9=/^[^&#]+/;class I9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new se(e,n)),r}parseSegment(){const e=fh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new zu(hh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=fh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fh(this.remaining);i&&(r=i,this.capture(r))}e[hh(n)]=hh(r)}parseQueryParam(e){const n=function v9(t){const e=t.match(_9);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function E9(t){const e=t.match(w9);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=vR(n),s=vR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ne]:new se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ER{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Bv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Bv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=jv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jv(e,this._root).map(n=>n.value)}}function Bv(t,e){if(t===e.value)return e;for(const n of e.children){const r=Bv(t,n);if(r)return r}return null}function jv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=jv(t,n);if(r.length)return r.unshift(e),r}return[]}class ni{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ra(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class IR extends ER{constructor(e,n){super(e),this.snapshot=n,$v(this,e)}toString(){return this.snapshot.toString()}}function bR(t,e){const n=function b9(t,e){const o=new ph([],{},{},"",{},ne,e,null,t.root,-1,{});return new CR("",new ni(o,[]))}(t,e),r=new ar([new zu("",{})]),i=new ar({}),s=new ar({}),o=new ar({}),a=new ar(""),u=new ia(r,i,o,a,s,ne,e,n.root);return u.snapshot=n.root,new IR(new ni(u,[]),n)}class ia{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>na(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>na(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DR(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function D9(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ph{constructor(e,n,r,i,s,o,a,u,l,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=na(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CR extends ER{constructor(e,n){super(n),this.url=e,$v(this,n)}toString(){return TR(this._root)}}function $v(t,e){e.value._routerState=t,e.children.forEach(n=>$v(t,n))}function TR(t){const e=t.children.length>0?` { ${t.children.map(TR).join(", ")} } `:"";return`${t.value}${e}`}function Hv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Tr(e.params,n.params)||t.params.next(n.params),function o9(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Tr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Gv(t,e){const n=Tr(t.params,e.params)&&function d9(t,e){return _s(t,e)&&t.every((n,r)=>Tr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Gv(t.parent,e.parent))}function Qu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function T9(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Qu(t,r,i);return Qu(t,r)})}(t,e,n);return new ni(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Qu(t,a)),o}}const r=function A9(t){return new ia(new ar(t.url),new ar(t.params),new ar(t.queryParams),new ar(t.fragment),new ar(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Qu(t,s));return new ni(r,i)}}function gh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Yu(t){return"object"==typeof t&&null!=t&&t.outlets}function qv(t,e,n,r,i){let s={};if(r&&xt(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(l=>`${l}`):`${a}`}),t===e)return new ys(n,s,i);const o=AR(t,e,n);return new ys(o,s,i)}function AR(t,e,n){const r={};return xt(t.children,(i,s)=>{r[s]=i===e?n:AR(i,e,n)}),new se(t.segments,r)}class SR{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&gh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Yu);if(i&&i!==cR(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wv{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function xR(t,e,n){if(t||(t=new se([],{})),0===t.segments.length&&t.hasChildren())return mh(t,e,n);const r=function R9(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Yu(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!kR(u,l,o))return s;r+=2}else{if(!kR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new se(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new se(t.segments.slice(r.pathIndex),t.children),mh(s,0,i)}return r.match&&0===i.length?new se(t.segments,{}):r.match&&!t.hasChildren()?zv(t,e,n):r.match?mh(t,0,i):zv(t,e,n)}function mh(t,e,n){if(0===n.length)return new se(t.segments,{});{const r=function N9(t){return Yu(t[0])?t[0].outlets:{[ne]:t}}(n),i={};return xt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=xR(t.children[o],e,s))}),xt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new se(t.segments,i)}}function zv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Yu(s)){const u=P9(s.outlets);return new se(r,u)}if(0===i&&gh(n[0])){r.push(new zu(t.segments[e].path,MR(n[0]))),i++;continue}const o=Yu(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&gh(a)?(r.push(new zu(o,MR(a))),i+=2):(r.push(new zu(o,{})),i++)}return new se(r,{})}function P9(t){const e={};return xt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=zv(new se([],{}),0,n))}),e}function MR(t){const e={};return xt(t,(n,r)=>e[r]=`${n}`),e}function kR(t,e,n){return t==n.path&&Tr(e,n.parameters)}class F9{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Hv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ra(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),xt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=ra(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new n9(s.value.snapshot))}),e.children.length&&this.forwardEvent(new e9(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Hv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Hv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function L9(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Kv{constructor(e,n){this.routes=e,this.module=n}}function Ci(t){return"function"==typeof t}function vs(t){return t instanceof ys}const Ju=Symbol("INITIAL_VALUE");function Xu(){return ms(t=>function V5(...t){const e=Ga(t),n=fT(t),{args:r,keys:i}=KN(t);if(0===r.length)return ft([],e);const s=new Re(function U5(t,e,n=zi){return r=>{JN(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)JN(e,()=>{const l=ft(t[u],e);let c=!1;l.subscribe(dt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>YN(i,o):zi));return n?s.pipe(QN(n)):s}(t.map(e=>e.pipe(Tc(1),function $5(...t){const e=Ga(t);return Ct((n,r)=>{(e?Ov(t,n,e):Ov(t,n)).subscribe(r)})}(Ju)))).pipe(eR((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Ju?i:(s===Ju&&(r=!0),r||!1!==s&&o!==n.length-1&&!vs(s)?i:s),e)},Ju),ea(e=>e!==Ju),ye(e=>vs(e)?e:!0===e),Tc(1)))}class H9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zu,this.attachRef=null}}class Zu{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new H9,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let Qv=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.name=s||ne,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new G9(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(b(Zu),b(ir),b(xu),function eu(t){return function L2(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(qT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(nt(),t)}("name"),b(xd))},t.\u0275dir=B({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class G9{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ia?this.route:e===Zu?this.childContexts:this.parent.get(e,n)}}let NR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Br({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&tr(0,"router-outlet")},directives:[Qv],encapsulation:2}),t})();function RR(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];q9(r,W9(e,r))}}function q9(t,e){t.children&&RR(t.children,e)}function W9(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Yv(t){const e=t.children&&t.children.map(Yv),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=NR),n}function Gn(t){return t.outlet||ne}function PR(t,e){const n=t.filter(r=>Gn(r)===e);return n.push(...t.filter(r=>Gn(r)!==e)),n}const OR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yh(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},OR):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||s9)(n,t,e);if(!s)return Object.assign({},OR);const o={};xt(s.posParams,(u,l)=>{o[l]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function _h(t,e,n,r,i="corrected"){if(n.length>0&&function Q9(t,e,n){return n.some(r=>vh(t,e,r)&&Gn(r)!==ne)}(t,n,r)){const o=new se(e,function K9(t,e,n,r){const i={};i[ne]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Gn(s)!==ne){const o=new se([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Gn(s)]=o}return i}(t,e,r,new se(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function Y9(t,e,n){return n.some(r=>vh(t,e,r))}(t,n,r)){const o=new se(t.segments,function z9(t,e,n,r,i,s){const o={};for(const a of r)if(vh(t,n,a)&&!i[Gn(a)]){const u=new se([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Gn(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new se(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function vh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function FR(t,e,n,r){return!!(Gn(t)===r||r!==ne&&vh(e,n,t))&&("**"===t.path||yh(e,t,n).matched)}function LR(t,e,n){return 0===e.length&&!t.children[n]}class wh{constructor(e){this.segmentGroup=e||null}}class VR{constructor(e){this.urlTree=e}}function el(t){return ah(new wh(t))}function UR(t){return ah(new VR(t))}class eQ{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Wr)}apply(){const e=_h(this.urlTree.root,[],[],this.config).segmentGroup,n=new se(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ne).pipe(ye(s=>this.createUrlTree(Jv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Di(s=>{if(s instanceof VR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof wh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ne).pipe(ye(i=>this.createUrlTree(Jv(i),e.queryParams,e.fragment))).pipe(Di(i=>{throw i instanceof wh?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new se([],{[ne]:e}):e;return new ys(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ye(s=>new se([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ft(i).pipe(qu(s=>{const o=r.children[s],a=PR(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ye(u=>({segment:u,outlet:s})))}),eR((s,o)=>(s[o.outlet]=o.segment,s),{}),function q5(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ea((i,s)=>t(i,s,r)):zi,Fv(1),n?nR(e):tR(()=>new uh))}())}expandSegment(e,n,r,i,s,o){return ft(r).pipe(qu(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Di(l=>{if(l instanceof wh)return X(null);throw l}))),ta(a=>!!a),Di((a,u)=>{if(a instanceof uh||"EmptyError"===a.name)return LR(n,i,s)?X(new se([],{})):el(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return FR(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):el(n):el(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?UR(s):this.lineralizeSegments(r,s).pipe(ht(o=>{const a=new se(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=yh(n,i,s);if(!a)return el(n);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?UR(d):this.lineralizeSegments(i,d).pipe(ht(h=>this.expandSegment(e,n,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?X(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ye(d=>(r._loadedConfig=d,new se(i,{})))):X(new se(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=yh(n,r,i);return o?this.getChildConfig(e,r,i).pipe(ht(c=>{const d=c.module,h=c.routes,{segmentGroup:f,slicedSegments:p}=_h(n,a,u,h),g=new se(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ye(T=>new se(a,T)));if(0===h.length&&0===p.length)return X(new se(a,{}));const _=Gn(r)===s;return this.expandSegment(d,g,h,p,_?ne:s,!0).pipe(ye(y=>new se(a.concat(y.segments),y.children)))})):el(n)}getChildConfig(e,n,r){return n.children?X(new Kv(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?X(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(ht(i=>i?this.configLoader.load(e.injector,n).pipe(ye(s=>(n._loadedConfig=s,s))):function X9(t){return ah(Vv(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):X(new Kv([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?X(i.map(o=>{const a=e.get(o);let u;if(function U9(t){return t&&Ci(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!Ci(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Ar(u)})).pipe(Xu(),pn(o=>{if(!vs(o))return;const a=Vv(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ye(o=>!0===o)):X(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[ne])return ah(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[ne]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ys(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return xt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return xt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new se(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function Jv(t){const e={};for(const r of Object.keys(t.children)){const s=Jv(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function tQ(t){if(1===t.numberOfChildren&&t.children[ne]){const e=t.children[ne];return new se(t.segments.concat(e.segments),e.children)}return t}(new se(t.segments,e))}class BR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Eh{constructor(e,n){this.component=e,this.route=n}}function rQ(t,e,n){const r=t._root;return tl(r,e?e._root:null,n,[r.value])}function Ih(t,e,n){const r=function sQ(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function tl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ra(e);return t.children.forEach(o=>{(function oQ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function aQ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_s(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_s(t.url,e.url)||!Tr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gv(t,e)||!Tr(t.queryParams,e.queryParams);default:return!Gv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new BR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),tl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Eh(a.outlet.component,o))}else o&&nl(e,a,i),i.canActivateChecks.push(new BR(r)),tl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),xt(s,(o,a)=>nl(o,n.getContext(a),i)),i}function nl(t,e,n){const r=ra(t),i=t.value;xt(r,(s,o)=>{nl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Eh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class mQ{}function jR(t){return new Re(e=>e.error(t))}class _Q{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=_h(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ne);if(null===n)return null;const r=new ph([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ni(r,n),s=new CR(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=DR(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=PR(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=$R(r);return function vQ(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return LR(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!FR(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?cR(r).parameters:{};s=new ph(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qR(e),Gn(e),e.component,e,HR(n),GR(n)+r.length,WR(e))}else{const f=yh(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new ph(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qR(e),Gn(e),e.component,e,HR(n),GR(n)+o.length,WR(e))}const u=function wQ(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=_h(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const f=this.processChildren(u,l);return null===f?null:[new ni(s,f)]}if(0===u.length&&0===c.length)return[new ni(s,[])];const d=Gn(e)===i,h=this.processSegment(u,l,c,d?ne:i);return null===h?null:[new ni(s,h)]}}function EQ(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $R(t){const e=[],n=new Set;for(const r of t){if(!EQ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=$R(r.children);e.push(new ni(r.value,i))}return e.filter(r=>!n.has(r))}function HR(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function GR(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function qR(t){return t.data||{}}function WR(t){return t.resolve||{}}function zR(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Xv(t){return ms(e=>{const n=t(e);return n?ft(n).pipe(ye(()=>e)):X(e)})}class xQ extends class SQ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Zv=new z("ROUTES");class KR{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new Kv(lR(o.injector.get(Zv,void 0,$.Self|$.Optional)).map(Yv),o)}),Di(s=>{throw n._loader$=void 0,s}));return n._loader$=new j5(i,()=>new Or).pipe(ZN()),n._loader$}loadModuleFactory(e){return Ar(e()).pipe(ht(n=>n instanceof zx?X(n):ft(this.compiler.compileModuleAsync(n))))}}class kQ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function NQ(t){throw t}function RQ(t,e,n){return e.parse("/")}function QR(t,e){return X(null)}const PQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mn=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Or,this.errorHandler=NQ,this.malformedUriErrorHandler=RQ,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:QR,afterPreactivation:QR},this.urlHandlingStrategy=new kQ,this.routeReuseStrategy=new xQ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Wr),this.console=o.get(gz);const d=o.get(Ke);this.isNgZoneEnabled=d instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function a9(){return new ys(new se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new KR(o,a,h=>this.triggerEvent(new iR(h)),h=>this.triggerEvent(new sR(h))),this.routerState=bR(this.currentUrlTree,this.rootComponentType),this.transitions=new ar({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(ea(i=>0!==i.id),ye(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ms(i=>{let s=!1,o=!1;return X(i).pipe(pn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ms(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return YR(a.source)&&(this.browserUrlTree=a.extractedUrl),X(a).pipe(ms(d=>{const h=this.transitions.getValue();return r.next(new Lv(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Lr:Promise.resolve(d)}),function nQ(t,e,n,r){return ms(i=>function Z9(t,e,n,r,i){return new eQ(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ye(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),pn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function IQ(t,e,n,r,i){return ht(s=>function yQ(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new _Q(t,e,n,r,i,s).recognize();return null===o?jR(new mQ):X(o)}catch(o){return jR(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(ye(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),pn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new K5(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=a,E=new Lv(h,this.serializeUrl(f),p,g);r.next(E);const y=bR(f,this.rootComponentType).snapshot;return X(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Lr}),Xv(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),pn(a=>{const u=new Q5(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ye(a=>Object.assign(Object.assign({},a),{guards:rQ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function uQ(t,e){return ht(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?X(Object.assign(Object.assign({},n),{guardsResult:!0})):function lQ(t,e,n,r){return ft(t).pipe(ht(i=>function gQ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?X(s.map(a=>{const u=Ih(a,e,i);let l;if(function $9(t){return t&&Ci(t.canDeactivate)}(u))l=Ar(u.canDeactivate(t,e,n,r));else{if(!Ci(u))throw new Error("Invalid CanDeactivate guard");l=Ar(u(t,e,n,r))}return l.pipe(ta())})).pipe(Xu()):X(!0)}(i.component,i.route,n,e,r)),ta(i=>!0!==i,!0))}(o,r,i,t).pipe(ht(a=>a&&function V9(t){return"boolean"==typeof t}(a)?function cQ(t,e,n,r){return ft(e).pipe(qu(i=>Ov(function hQ(t,e){return null!==t&&e&&e(new Z5(t)),X(!0)}(i.route.parent,r),function dQ(t,e){return null!==t&&e&&e(new t9(t)),X(!0)}(i.route,r),function pQ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function iQ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>XN(()=>X(o.guards.map(u=>{const l=Ih(u,o.node,n);let c;if(function j9(t){return t&&Ci(t.canActivateChild)}(l))c=Ar(l.canActivateChild(r,t));else{if(!Ci(l))throw new Error("Invalid CanActivateChild guard");c=Ar(l(r,t))}return c.pipe(ta())})).pipe(Xu())));return X(s).pipe(Xu())}(t,i.path,n),function fQ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(s=>XN(()=>{const o=Ih(s,e,n);let a;if(function B9(t){return t&&Ci(t.canActivate)}(o))a=Ar(o.canActivate(e,t));else{if(!Ci(o))throw new Error("Invalid CanActivate guard");a=Ar(o(e,t))}return a.pipe(ta())}));return X(i).pipe(Xu())}(t,i.route,n))),ta(i=>!0!==i,!0))}(r,s,t,e):X(a)),ye(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),pn(a=>{if(vs(a.guardsResult)){const l=Vv(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new Y5(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),ea(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Xv(a=>{if(a.guards.canActivateChecks.length)return X(a).pipe(pn(u=>{const l=new J5(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),ms(u=>{let l=!1;return X(u).pipe(function bQ(t,e){return ht(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let s=0;return ft(i).pipe(qu(o=>function DQ(t,e,n,r){return function CQ(t,e,n,r){const i=zR(t);if(0===i.length)return X({});const s={};return ft(i).pipe(ht(o=>function TQ(t,e,n,r){const i=Ih(t,e,r);return Ar(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(pn(a=>{s[o]=a}))),Fv(1),ht(()=>zR(s).length===i.length?X(s):Lr))}(t._resolve,t,e,r).pipe(ye(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),DR(t,n).resolve),null)))}(o.route,r,t,e)),pn(()=>s++),Fv(1),ht(o=>s===i.length?X(n):Lr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),pn({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),pn(u=>{const l=new X5(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),Xv(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ye(a=>{const u=function C9(t,e,n){const r=Qu(t,e._root,n?n._root:void 0);return new IR(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),pn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ye(r=>(new F9(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),pn({next(){s=!0},complete(){s=!0}}),function W5(t){return Ct((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Di(a=>{if(o=!0,function i9(t){return t&&t[aR]}(a)){const u=vs(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new rR(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),u?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||YR(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new z5(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Lr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){RR(n),this.config=n.map(Yv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function S9(t,e,n,r,i){if(0===n.length)return qv(e.root,e.root,e.root,r,i);const s=function x9(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new SR(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return xt(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new SR(n,e,r)}(n);if(s.toRoot())return qv(e.root,e.root,new se([],{}),r,i);const o=function M9(t,e,n){if(t.isAbsolute)return new Wv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new Wv(s,s===e.root,0)}const r=gh(t.commands[0])?0:1;return function k9(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Wv(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?mh(o.segmentGroup,o.index,s.commands):xR(o.segmentGroup,o.index,s.commands);return qv(e.root,o.segmentGroup,a,r,i)}(l,this.currentUrlTree,n,d,null!=c?c:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=vs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function FQ(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},PQ):!1===r?Object.assign({},OQ):r,vs(n))return hR(this.currentUrlTree,n,i);const s=this.parseUrl(n);return hR(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Wu(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let l,c,d;o?(l=o.resolve,c=o.reject,d=o.promise):d=new Promise((p,g)=>{l=p,c=g});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new rR(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){dm()},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function YR(t){return"imperative"!==t}let bh=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Or,this.subscription=n.events.subscribe(s=>{s instanceof Wu&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:sa(this.skipLocationChange),replaceUrl:sa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:sa(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(b(Mn),b(ia),b(zo))},t.\u0275dir=B({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&$t("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Er("target",r.target)("href",r.href,gg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[On]}),t})();function sa(t){return""===t||!!t}class JR{}class XR{preload(e,n){return X(null)}}let ZR=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new KR(i,r,u=>n.triggerEvent(new iR(u)),u=>n.triggerEvent(new sR(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ea(n=>n instanceof Wu),qu(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Wr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return ft(i).pipe(Ha(),ye(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?X(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ht(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(F(Mn),F(xM),F(Bt),F(JR))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),tw=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Lv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Wu&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof oR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new oR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){dm()},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const ws=new z("ROUTER_CONFIGURATION"),e1=new z("ROUTER_FORROOT_GUARD"),BQ=[ay,{provide:mR,useClass:yR},{provide:Mn,useFactory:function qQ(t,e,n,r,i,s,o={},a,u){const l=new Mn(null,t,e,n,r,i,lR(s));return a&&(l.urlHandlingStrategy=a),u&&(l.routeReuseStrategy=u),function WQ(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(c=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[mR,Zu,ay,Bt,xM,Zv,ws,[class MQ{},new gt],[class AQ{},new gt]]},Zu,{provide:ia,useFactory:function zQ(t){return t.routerState.root},deps:[Mn]},ZR,XR,class UQ{preload(e,n){return n().pipe(Di(()=>X(null)))}},{provide:ws,useValue:{enableTracing:!1}}];function jQ(){return new PM("Router",Mn)}let t1=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[BQ,n1(n),{provide:e1,useFactory:GQ,deps:[[Mn,new gt,new au]]},{provide:ws,useValue:r||{}},{provide:zo,useFactory:HQ,deps:[os,[new Jc(oy),new gt],ws]},{provide:tw,useFactory:$Q,deps:[Mn,A4,ws]},{provide:JR,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:XR},{provide:PM,multi:!0,useFactory:jQ},[nw,{provide:Gm,multi:!0,useFactory:KQ,deps:[nw]},{provide:r1,useFactory:QQ,deps:[nw]},{provide:SM,multi:!0,useExisting:r1}]]}}static forChild(n){return{ngModule:t,providers:[n1(n)]}}}return t.\u0275fac=function(n){return new(n||t)(F(e1,8),F(Mn,8))},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})();function $Q(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new tw(t,e,n)}function HQ(t,e,n={}){return n.useHash?new a3(t,e):new ZM(t,e)}function GQ(t){return"guarded"}function n1(t){return[{provide:$2,multi:!0,useValue:t},{provide:Zv,multi:!0,useValue:t}]}let nw=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Or}appInitializer(){return this.injector.get(i3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Mn),o=this.injector.get(ws);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?X(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(ws),i=this.injector.get(ZR),s=this.injector.get(tw),o=this.injector.get(Mn),a=this.injector.get(Zm);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(F(Bt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function KQ(t){return t.appInitializer.bind(t)}function QQ(t){return t.bootstrapListener.bind(t)}const r1=new z("Router Initializer");const JQ=function i1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},s1=new Cr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),o1=new Ko("@firebase/auth");function Dh(t,...e){o1.logLevel<=le.ERROR&&o1.error(`Auth (9.8.1): ${t}`,...e)}function gn(t,...e){throw rw(t,...e)}function Sr(t,...e){return rw(t,...e)}function a1(t,e,n){const r=Object.assign(Object.assign({},JQ()),{[e]:n});return new Cr("auth","Firebase",r).create(e,{appName:t.name})}function rw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return s1.create(t,...e)}function A(t,e,...n){if(!t)throw rw(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dh(e),new Error(e)}function Ti(t,e){t||xr(e)}const u1=new Map;function ri(t){Ti(t instanceof Function,"Expected a class definition");let e=u1.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u1.set(t,e),e)}function l1(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class il{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=kk()||Nk()}get(){return function eY(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function iw(){return"http:"===l1()||"https:"===l1()}()||Kd()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class c1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rY=new il(3e4,6e4);function yt(t,e,n,r){return ow.apply(this,arguments)}function ow(){return(ow=m(function*(t,e,n,r,i={}){return d1(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ok(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),c1.fetch()(h1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function d1(t,e,n){return aw.apply(this,arguments)}function aw(){return(aw=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nY),e);try{const i=new iY(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ch(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Ch(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Ch(t,"email-already-in-use",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw a1(t,c,l);gn(t,c)}}catch(i){if(i instanceof Yr)throw i;gn(t,"network-request-failed")}})).apply(this,arguments)}function h1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function sw(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class iY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),rY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ch(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(t,e,r);return i.customData._tokenResponse=n,i}function lw(){return(lw=m(function*(t,e){return yt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function aY(t,e){return dw.apply(this,arguments)}function dw(){return(dw=m(function*(t,e){return yt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function hw(){return(hw=m(function*(t,e=!1){const n=Hn(t),r=yield n.getIdToken(e),i=Th(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sl(fw(i.auth_time)),issuedAtTime:sl(fw(i.iat)),expirationTime:sl(fw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function fw(t){return 1e3*Number(t)}function Th(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return My.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(Dh("Failed to decode base64 JWT payload"),null)}catch(i){return Dh("Caught error parsing JWT payload as JSON",i),null}}function si(t,e){return pw.apply(this,arguments)}function pw(){return(pw=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Yr&&cY(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function cY({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class dY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class f1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ol(t){return gw.apply(this,arguments)}function gw(){return(gw=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield si(t,aY(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?pY(s.providerUserInfo):[],a=fY(t.providerData,o),c=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new f1(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)})).apply(this,arguments)}function mw(){return(mw=m(function*(t){const e=Hn(t);yield ol(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function fY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pY(t){return t.map(e=>{var{providerId:n}=e,r=eT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function yw(){return(yw=m(function*(t,e){const n=yield d1(t,{},m(function*(){const r=Ok({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=h1(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",c1.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function lY(t){const e=Th(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function gY(t,e){return yw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new al;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return xr("not implemented")}}function Ai(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Es{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=eT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new f1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield si(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function uY(t){return hw.apply(this,arguments)}(this,e)}reload(){return function hY(t){return mw.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ol(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield si(e,function sY(t,e){return lw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,E=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:T,emailVerified:P,isAnonymous:O,providerData:Z,stsTokenManager:Se}=n;A(T&&Se,e,"internal-error");const dr=al.fromJSON(this.name,Se);A("string"==typeof T,e,"internal-error"),Ai(d,e.name),Ai(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof O,e,"internal-error"),Ai(f,e.name),Ai(p,e.name),Ai(g,e.name),Ai(_,e.name),Ai(E,e.name),Ai(y,e.name);const no=new Es({uid:T,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:dr,createdAt:E,lastLoginAt:y});return Z&&Array.isArray(Z)&&(no.providerData=Z.map(vc=>Object.assign({},vc))),_&&(no._redirectEventId=_),no}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new al;i.updateFromServerResponse(n);const s=new Es({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ol(s),s})()}}const p1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Ah(t,e,n){return`firebase:${t}:${e}:${n}`}class aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ah(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ah("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Es._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new aa(ri(p1),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||ri(p1);const o=Ah(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=yield l._get(o);if(c){const d=Es._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch(c){}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return l.apply(this,arguments)}}())),new aa(s,e,r)):new aa(s,e,r)})()}}function g1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function _1(t=Sn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function m1(t=Sn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function w1(t=Sn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function E1(t=Sn()){return/webos/i.test(t)}(e))return"Webos";if(function _w(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function y1(t=Sn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function v1(t=Sn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function I1(t,e=[]){let n;switch(t){case"Browser":n=g1(Sn());break;case"Worker":n=`${g1(Sn())}-${t}`;break;default:n=t}return`${n}/JsCore/9.8.1/${e.length?e.join(","):"FirebaseCore-web"}`}class _Y{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch(o){}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i.message})}})()}}class vY{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b1(this),this.idTokenSubscription=new b1(this),this.beforeStateQueue=new _Y(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield aa.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===u)&&(null==l?void 0:l.user)&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield ol(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function tY(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Hn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ri(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ri(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield aa.create(n,[ri(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class b1{constructor(e){this.auth=e,this.observer=null,this.addObserver=function D8(t,e){const n=new C8(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function $1(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new il(3e4,6e4),new il(2e3,1e4),new il(3e4,6e4),new il(5e3,15e3);var eP="@firebase/auth";class uX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function cX(t){en(new Ht("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I1(t)},c=new vY(a,u,l);return function ZQ(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),en(new Ht("auth-internal",e=>{const n=function mn(t){return Hn(t)}(e.getProvider("auth").getImmediate());return new uX(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(eP,"0.20.1",function lX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),$e(eP,"0.20.1","esm2017")}("Browser");class rP{constructor(){return Rv("auth")}}const iP=new Map,pX={activated:!1,tokenObservers:[]},gX={initialized:!1,enabled:!1};function _t(t){return iP.get(t)||pX}function ur(t,e){iP.set(t,e)}function Uh(){return gX}class wX{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Ny,yield function EX(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ny,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const tn=new Cr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function oP(t){if(!_t(t).activated)throw tn.create("use-before-activation",{appName:t.name})}function nI(t,e){return rI.apply(this,arguments)}function rI(){return(rI=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw tn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw tn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw tn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}})).apply(this,arguments)}function TX(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const hl="firebase-app-check-store";let $h=null;function uP(){return $h||($h=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(tn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hl,{keyPath:"compositeKey"})}}catch(n){e(tn.create("storage-open",{originalErrorMessage:n.message}))}}),$h)}function iI(){return(iI=m(function*(t,e){const r=(yield uP()).transaction(hl,"readwrite"),s=r.objectStore(hl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(tn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const fl=new Ko("@firebase/app-check");function hP(t,e){return as()?function MX(t,e){return function lP(t,e){return iI.apply(this,arguments)}(function dP(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{fl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function fP(){return Uh().enabled}function pP(){return uI.apply(this,arguments)}function uI(){return(uI=m(function*(){const t=Uh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const FX={error:"UNKNOWN_ERROR"};function LX(t){return My.encodeString(JSON.stringify(t),!1)}function Hh(t){return lI.apply(this,arguments)}function lI(){return(lI=m(function*(t,e=!1){const n=t.app;oP(n);const r=_t(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Gh(u)&&(i=u)}if(!e&&i&&Gh(i))return{token:i.token};let a,o=!1;if(fP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=nI(TX(n,yield pP()),t.heartbeatServiceProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield hP(n,u),ur(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?fl.warn(u.message):fl.error(u),s=u}return i?(a={token:i.token},ur(n,Object.assign(Object.assign({},r),{token:i})),yield hP(n,i)):a=UX(s),o&&mP(n,a),a})).apply(this,arguments)}function dI(t,e){const n=_t(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),ur(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function gP(t){const{app:e}=t,n=_t(e);let r=n.tokenRefresher;r||(r=function VX(t){const{app:e}=t;return new wX(m(function*(){let r;if(r=_t(e).token?yield Hh(t,!0):yield Hh(t),r.error)throw r.error}),()=>!0,()=>{const n=_t(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),ur(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function mP(t,e){const n=_t(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Gh(t){return t.expireTimeMillis-Date.now()>0}function UX(t){return{token:LX(FX),error:t}}class BX{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=_t(this.app);for(const n of e)dI(this.app,n.next);return Promise.resolve()}}const DP="app-check-internal";!function eZ(){en(new Ht("app-check",t=>function jX(t,e){return new BX(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(DP).initialize()})),en(new Ht(DP,t=>function $X(t){return{getToken:e=>Hh(t,e),addTokenListener:e=>function cI(t,e,n,r){const{app:i}=t,s=_t(i),o={next:n,error:r,type:e};if(ur(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Gh(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),gP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>gP(t))}(t,"INTERNAL",e),removeTokenListener:e=>dI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),$e("@firebase/app-check","0.5.8")}();class TP{constructor(){return Rv("app-check")}}"undefined"!=typeof window&&window;var N,sZ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ai={},mI=mI||{},H=sZ||self;function Wh(){}function yI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function pl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var _I="closure_uid_"+(1e9*Math.random()>>>0),aZ=0;function uZ(t,e,n){return t.call.apply(t.bind,arguments)}function lZ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Mt(t,e,n){return(Mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uZ:lZ).apply(null,arguments)}function zh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Si(){this.s=this.s,this.o=this.o}var dZ={};Si.prototype.s=!1,Si.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function oZ(t){return Object.prototype.hasOwnProperty.call(t,_I)&&t[_I]||(t[_I]=++aZ)}(this);delete dZ[t]}},Si.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},SP=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function xP(t){return Array.prototype.concat.apply([],arguments)}function vI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Kh(t){return/^[\s\xa0]*$/.test(t)}var rn,MP=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function nn(t,e){return-1!=t.indexOf(e)}function wI(t,e){return t<e?-1:t>e?1:0}e:{var kP=H.navigator;if(kP){var NP=kP.userAgent;if(NP){rn=NP;break e}}rn=""}function EI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function RP(t){const e={};for(const n in t)e[n]=t[n];return e}var PP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OP(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<PP.length;s++)n=PP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function II(t){return II[" "](t),t}II[" "]=Wh;var Qh,t,pZ=nn(rn,"Opera"),ua=nn(rn,"Trident")||nn(rn,"MSIE"),FP=nn(rn,"Edge"),bI=FP||ua,LP=nn(rn,"Gecko")&&!(nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge"))&&!(nn(rn,"Trident")||nn(rn,"MSIE"))&&!nn(rn,"Edge"),gZ=nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge");function VP(){var t=H.document;return t?t.documentMode:void 0}e:{var DI="",CI=(t=rn,LP?/rv:([^\);]+)(\)|;)/.exec(t):FP?/Edge\/([\d\.]+)/.exec(t):ua?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):gZ?/WebKit\/(\S+)/.exec(t):pZ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(CI&&(DI=CI?CI[1]:""),ua){var TI=VP();if(null!=TI&&TI>parseFloat(DI)){Qh=String(TI);break e}}Qh=DI}var mZ={};var _Z=H.document&&ua&&(VP()||parseInt(Qh,10))||void 0,vZ=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{H.addEventListener("test",Wh,e),H.removeEventListener("test",Wh,e)}catch(n){}return t}();function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function gl(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(LP){e:{try{II(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:wZ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gl.Z.h.call(this)}}Gt.prototype.h=function(){this.defaultPrevented=!0},kt(gl,Gt);var wZ={2:"touch",3:"pen",4:"mouse"};gl.prototype.h=function(){gl.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ml="closure_listenable_"+(1e6*Math.random()|0),EZ=0;function IZ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++EZ,this.ca=this.fa=!1}function Yh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Jh(t){this.src=t,this.g={},this.h=0}function SI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=AP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Yh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function xI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Jh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=xI(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new IZ(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var MI="closure_lm_"+(1e6*Math.random()|0),kI={};function BP(t,e,n,r,i){if(r&&r.once)return $P(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)BP(t,e[s],n,r,i);return null}return n=OI(n),t&&t[ml]?t.N(e,n,pl(r)?!!r.capture:!!r,i):jP(t,e,n,!1,r,i)}function jP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=pl(i)?!!i.capture:!!i,a=RI(t);if(a||(t[MI]=a=new Jh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function bZ(){var e=DZ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vZ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(GP(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $P(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$P(t,e[s],n,r,i);return null}return n=OI(n),t&&t[ml]?t.O(e,n,pl(r)?!!r.capture:!!r,i):jP(t,e,n,!0,r,i)}function HP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)HP(t,e[s],n,r,i);else r=pl(r)?!!r.capture:!!r,n=OI(n),t&&t[ml]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=xI(s=t.g[e],n,r,i))&&(Yh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=RI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=xI(e,n,r,i)),(n=-1<t?e[t]:null)&&NI(n))}function NI(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ml])SI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(GP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=RI(e))?(SI(n,t),0==n.h&&(n.src=null,e[MI]=null)):Yh(t)}}}function GP(t){return t in kI?kI[t]:kI[t]="on"+t}function DZ(t,e){if(t.ca)t=!0;else{e=new gl(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&NI(t),t=n.call(r,e)}return t}function RI(t){return(t=t[MI])instanceof Jh?t:null}var PI="__closure_events_fn_"+(1e9*Math.random()>>>0);function OI(t){return"function"==typeof t?t:(t[PI]||(t[PI]=function(e){return t.handleEvent(e)}),t[PI])}function vt(){Si.call(this),this.i=new Jh(this),this.P=this,this.I=null}function Nt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;OP(e=new Gt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Xh(o,r,!0,e)&&i}if(i=Xh(o=e.g=t,r,!0,e)&&i,i=Xh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Xh(o=e.g=n[s],r,!1,e)&&i}function Xh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&SI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}kt(vt,Si),vt.prototype[ml]=!0,vt.prototype.removeEventListener=function(t,e,n,r){HP(this,t,e,n,r)},vt.prototype.M=function(){if(vt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Yh(n[r]);delete t.g[e],t.h--}}this.I=null},vt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var FI=H.JSON.stringify;function CZ(){var t=WP;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var VI,qP=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new AZ,t=>t.reset());class AZ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function SZ(t){H.setTimeout(()=>{throw t},0)}function LI(t,e){VI||function xZ(){var t=H.Promise.resolve(void 0);VI=function(){t.then(MZ)}}(),UI||(VI(),UI=!0),WP.add(t,e)}var UI=!1,WP=new class TZ{constructor(){this.h=this.g=null}add(e,n){const r=qP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function MZ(){for(var t;t=CZ();){try{t.h.call(t.g)}catch(n){SZ(n)}var e=qP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}UI=!1}function Zh(t,e){vt.call(this),this.h=t||1,this.g=e||H,this.j=Mt(this.kb,this),this.l=Date.now()}function BI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function jI(t,e,n){if("function"==typeof t)n&&(t=Mt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Mt(t.handleEvent,t)}return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function zP(t){t.g=jI(()=>{t.g=null,t.i&&(t.i=!1,zP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}kt(Zh,vt),(N=Zh.prototype).da=!1,N.S=null,N.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nt(this,"tick"),this.da&&(BI(this),this.start()))}},N.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.M=function(){Zh.Z.M.call(this),BI(this),delete this.g};class kZ extends Si{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zP(this)}M(){super.M(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yl(t){Si.call(this),this.h=t,this.g={}}kt(yl,Si);var KP=[];function QP(t,e,n,r){Array.isArray(n)||(n&&(KP[0]=n.toString()),n=KP);for(var i=0;i<n.length;i++){var s=BP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function YP(t){EI(t.g,function(e,n){this.g.hasOwnProperty(n)&&NI(e)},t),t.g={}}function ef(){this.g=!0}function la(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function OZ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return FI(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}yl.prototype.M=function(){yl.Z.M.call(this),YP(this)},yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ef.prototype.Aa=function(){this.g=!1},ef.prototype.info=function(){};var Cs={},JP=null;function tf(){return JP=JP||new vt}function XP(t){Gt.call(this,Cs.Ma,t)}function _l(t){const e=tf();Nt(e,new XP(e,t))}function ZP(t,e){Gt.call(this,Cs.STAT_EVENT,t),this.stat=e}function sn(t){const e=tf();Nt(e,new ZP(e,t))}function eO(t,e){Gt.call(this,Cs.Na,t),this.size=e}function vl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}Cs.Ma="serverreachability",kt(XP,Gt),Cs.STAT_EVENT="statevent",kt(ZP,Gt),Cs.Na="timingevent",kt(eO,Gt);var nf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $I(){}function rO(){}$I.prototype.h=null;var qI,wl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function HI(){Gt.call(this,"d")}function GI(){Gt.call(this,"c")}function rf(){}function El(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new yl(this),this.P=FZ,this.W=new Zh(t=bI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new iO}function iO(){this.i=null,this.g="",this.h=!1}kt(HI,Gt),kt(GI,Gt),kt(rf,$I),rf.prototype.g=function(){return new XMLHttpRequest},rf.prototype.i=function(){return{}},qI=new rf;var FZ=45e3,WI={},sf={};function zI(t,e,n){t.K=1,t.v=cf(ui(e)),t.s=n,t.U=!0,sO(t,null)}function sO(t,e){t.F=Date.now(),Il(t),t.A=ui(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),pO(n.h,"t",r),t.C=0,n=t.l.H,t.h=new iO,t.g=LO(t.l,n?e:null,!t.s),0<t.O&&(t.L=new kZ(Mt(t.Ia,t,t.g),t.O)),QP(t.V,t.g,"readystatechange",t.gb),e=t.H?RP(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),_l(1),function NZ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function oO(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function aO(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=LZ(t,n),i==sf){4==e&&(t.o=4,sn(14),r=!1),la(t.j,t.m,null,"[Incomplete Response]");break}if(i==WI){t.o=4,sn(15),la(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}la(t.j,t.m,i,null),KI(t,i)}oO(t)&&i!=sf&&i!=WI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),sb(e),e.L=!0,sn(11))):(la(t.j,t.m,n,"[Invalid Chunked Response]"),Ts(t),bl(t))}function LZ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?sf:(n=Number(e.substring(n,r)),isNaN(n)?WI:(r+=1)+n>e.length?sf:(e=e.substr(r,n),t.C=r+n,e))}function Il(t){t.Y=Date.now()+t.P,uO(t,t.P)}function uO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=vl(Mt(t.eb,t),e)}function of(t){t.B&&(H.clearTimeout(t.B),t.B=null)}function bl(t){0==t.l.G||t.I||RO(t.l,t)}function Ts(t){of(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,BI(t.W),YP(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function KI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||JI(n.i,t)))if(n.I=t.N,!t.J&&JI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=vl(Mt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;mf(n),pf(n)}ib(n),sn(18)}if(1>=yO(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else xs(n,11)}else if((t.J||n.g==t)&&mf(n),!Kh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const c=l[3];null!=c&&(n.ma=c,n.h.info("VER="+n.ma));const d=l[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(nn(p,"spdy")||nn(p,"quic")||nn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(XI(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,ke(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=FO(r,r.H?r.la:null,r.W),o.J){_O(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(of(a),Il(a)),r.g=o}else kO(r);0<n.l.length&&gf(n)}else"stop"!=l[0]&&"close"!=l[0]||xs(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?xs(n,7):nb(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}_l(4)}catch(l){}}function QI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(yI(t)||"string"==typeof t)SP(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(yI(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function VZ(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(yI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ca(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ca)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function YI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];As(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)As(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function As(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(N=El.prototype).setTimeout=function(t){this.P=t},N.gb=function(t){t=t.target;const e=this.L;e&&3==li(t)?e.l():this.Ia(t)},N.Ia=function(t){try{if(t==this.g)e:{const c=li(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||bI||this.g&&(this.h.h||this.g.ga()||TO(this.g)))){this.I||4!=c||7==e||_l(8==e||0>=d?3:2),of(this);var n=this.g.ba();this.N=n;t:if(oO(this)){var r=TO(this.g);t="";var i=r.length,s=4==li(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ts(this),bl(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function RZ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kh(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,sn(12),Ts(this),bl(this);break e}la(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,KI(this,n)}this.U?(aO(this,c,o),bI&&this.i&&3==c&&(QP(this.V,this.W,"tick",this.fb),this.W.start())):(la(this.j,this.m,o,null),KI(this,o)),4==c&&Ts(this),this.i&&!this.I&&(4==c?RO(this.l,this):(this.i=!1,Il(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),Ts(this),bl(this)}}}catch(c){}},N.fb=function(){if(this.g){var t=li(this.g),e=this.g.ga();this.C<e.length&&(of(this),aO(this,t,e),this.i&&4!=t&&Il(this))}},N.cancel=function(){this.I=!0,Ts(this)},N.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function PZ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(_l(3),sn(17)),Ts(this),this.o=2,bl(this)):uO(this,this.Y-t)},(N=ca.prototype).R=function(){YI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},N.T=function(){return YI(this),this.g.concat()},N.get=function(t,e){return As(this.h,t)?this.h[t]:e},N.set=function(t,e){As(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},N.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var lO=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ss(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ss){this.g=void 0!==e?e:t.g,af(this,t.j),this.s=t.s,uf(this,t.i),lf(this,t.m),this.l=t.l,e=t.h;var n=new Tl;n.i=e.i,e.g&&(n.g=new ca(e.g),n.h=e.h),cO(this,n),this.o=t.o}else t&&(n=String(t).match(lO))?(this.g=!!e,af(this,n[1]||"",!0),this.s=Dl(n[2]||""),uf(this,n[3]||"",!0),lf(this,n[4]),this.l=Dl(n[5]||"",!0),cO(this,n[6]||"",!0),this.o=Dl(n[7]||"")):(this.g=!!e,this.h=new Tl(null,this.g))}function ui(t){return new Ss(t)}function af(t,e,n){t.j=n?Dl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function uf(t,e,n){t.i=n?Dl(e,!0):e}function lf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function cO(t,e,n){e instanceof Tl?(t.h=e,function zZ(t,e){e&&!t.j&&(xi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(hO(this,r),pO(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Cl(e,qZ)),t.h=new Tl(e,t.g))}function ke(t,e,n){t.h.set(e,n)}function cf(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,$Z),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $Z(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ss.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cl(e,dO,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Cl(e,dO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Cl(n,"/"==n.charAt(0)?GZ:HZ,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cl(n,WZ)),t.join("")};var dO=/[#\/\?@]/g,HZ=/[#\?:]/g,GZ=/[#\?]/g,qZ=/[#\?@]/g,WZ=/#/g;function Tl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xi(t){t.g||(t.g=new ca,t.h=0,t.i&&function UZ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function hO(t,e){xi(t),e=da(t,e),As(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,As((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&YI(t)))}function fO(t,e){return xi(t),e=da(t,e),As(t.g.h,e)}function pO(t,e,n){hO(t,e),0<n.length&&(t.i=null,t.g.set(da(t,e),vI(n)),t.h+=n.length)}function da(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function gO(t){this.l=t||QZ,t=H.PerformanceNavigationTiming?0<(t=H.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(H.g&&H.g.Ea&&H.g.Ea()&&H.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Tl.prototype).add=function(t,e){xi(this),this.i=null,t=da(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){xi(this),this.g.forEach(function(n,r){SP(n,function(i){t.call(e,i,r,this)},this)},this)},N.T=function(){xi(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},N.R=function(t){xi(this);var e=[];if("string"==typeof t)fO(this,t)&&(e=xP(e,this.g.get(da(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=xP(e,t[n])}return e},N.set=function(t,e){return xi(this),this.i=null,fO(this,t=da(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var QZ=10;function mO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function yO(t){return t.h?1:t.g?t.g.size:0}function JI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function XI(t,e){t.g?t.g.add(e):t.h=e}function _O(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function vO(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return vI(t.i)}function ZI(){}function YZ(){this.g=new ZI}function JZ(t,e,n){const r=n||"";try{QI(t,function(i,s){let o=i;pl(i)&&(o=FI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function df(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Al(t){this.l=t.$b||null,this.j=t.ib||!1}function hf(t,e){vt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=eb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gO.prototype.cancel=function(){if(this.i=vO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},ZI.prototype.stringify=function(t){return H.JSON.stringify(t,void 0)},ZI.prototype.parse=function(t){return H.JSON.parse(t,void 0)},kt(Al,$I),Al.prototype.g=function(){return new hf(this.l,this.j)},Al.prototype.i=function(t){return function(){return t}}({}),kt(hf,vt);var eb=0;function wO(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Sl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xl(t)}function xl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=hf.prototype).open=function(t,e){if(this.readyState!=eb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xl(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||H).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sl(this)),this.readyState=eb},N.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xl(this)),this.g&&(this.readyState=3,xl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==H.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wO(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},N.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sl(this):xl(this),3==this.readyState&&wO(this)}},N.Ua=function(t){this.g&&(this.response=this.responseText=t,Sl(this))},N.Ta=function(t){this.g&&(this.response=t,Sl(this))},N.ha=function(){this.g&&Sl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(hf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ZZ=H.JSON.parse;function Je(t){vt.call(this),this.headers=new ca,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=EO,this.K=this.L=!1}kt(Je,vt);var EO="",eee=/^https?$/i,tee=["POST","PUT"];function ree(t){return"content-type"==t.toLowerCase()}function IO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bO(t),ff(t)}function bO(t){t.D||(t.D=!0,Nt(t,"complete"),Nt(t,"error"))}function DO(t){if(t.h&&void 0!==mI&&(!t.C[1]||4!=li(t)||2!=t.ba()))if(t.v&&4==li(t))jI(t.Fa,0,t);else if(Nt(t,"readystatechange"),4==li(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(lO)[1]||null;if(!i&&H.self&&H.self.location){var s=H.self.location.protocol;i=s.substr(0,s.length-1)}r=!eee.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var o=2<li(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",bO(t)}}finally{ff(t)}}}function ff(t,e){if(t.g){CO(t);const n=t.g,r=t.C[0]?Wh:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function CO(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}function li(t){return t.g?t.g.readyState:0}function TO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case EO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function iee(t){let e="";return EI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ke(t,e,n))}function Ml(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function AO(t){this.za=0,this.l=[],this.h=new ef,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ml("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ml("baseRetryDelayMs",5e3,t),this.$a=Ml("retryDelaySeedMs",1e4,t),this.Ya=Ml("forwardChannelMaxRetries",2,t),this.ra=Ml("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new gO(t&&t.concurrentRequestLimit),this.Ca=new YZ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function nb(t){if(SO(t),3==t.G){var e=t.V++,n=ui(t.F);ke(n,"SID",t.J),ke(n,"RID",e),ke(n,"TYPE","terminate"),kl(t,n),(e=new El(t,t.h,e,void 0)).K=2,e.v=cf(ui(n)),n=!1,H.navigator&&H.navigator.sendBeacon&&(n=H.navigator.sendBeacon(e.v.toString(),"")),!n&&H.Image&&((new Image).src=e.v,n=!0),n||(e.g=LO(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Il(e)}OO(t)}function pf(t){t.g&&(sb(t),t.g.cancel(),t.g=null)}function SO(t){pf(t),t.u&&(H.clearTimeout(t.u),t.u=null),mf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&H.clearTimeout(t.m),t.m=null)}function rb(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&gf(t)}function gf(t){mO(t.i)||t.m||(t.m=!0,LI(t.Ha,t),t.C=0)}function xO(t,e){var n;n=e?e.m:t.V++;const r=ui(t.F);ke(r,"SID",t.J),ke(r,"RID",n),ke(r,"AID",t.U),kl(t,r),t.o&&t.s&&tb(r,t.o,t.s),n=new El(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=MO(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),XI(t.i,n),zI(n,r,e)}function kl(t,e){t.j&&QI({},function(n,r){ke(e,r,n)})}function MO(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Mt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{JZ(c,o,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function kO(t){t.g||t.u||(t.Y=1,LI(t.Ga,t),t.A=0)}function ib(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=vl(Mt(t.Ga,t),PO(t,t.A)),t.A++,0))}function sb(t){null!=t.B&&(H.clearTimeout(t.B),t.B=null)}function NO(t){t.g=new El(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ui(t.oa);ke(e,"RID","rpc"),ke(e,"SID",t.J),ke(e,"CI",t.N?"0":"1"),ke(e,"AID",t.U),kl(t,e),ke(e,"TYPE","xmlhttp"),t.o&&t.s&&tb(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=cf(ui(e)),n.s=null,n.U=!0,sO(n,t)}function mf(t){null!=t.v&&(H.clearTimeout(t.v),t.v=null)}function RO(t,e){var n=null;if(t.g==e){mf(t),sb(t),t.g=null;var r=2}else{if(!JI(t.i,e))return;n=e.D,_O(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Nt(r=tf(),new eO(r,n,e,i)),gf(t)}else kO(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function see(t,e){return!(yO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=vl(Mt(t.Ha,t,e),PO(t,t.C)),t.C++,0)))}(t,e)||2==r&&ib(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:xs(t,5);break;case 4:xs(t,10);break;case 3:xs(t,6);break;default:xs(t,2)}}function PO(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function xs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Mt(t.jb,t);n||(n=new Ss("//www.google.com/images/cleardot.gif"),H.location&&"http"==H.location.protocol||af(n,"https"),cf(n)),function XZ(t,e){const n=new ef;if(H.Image){const r=new Image;r.onload=zh(df,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zh(df,n,r,"TestLoadImage: error",!1,e),r.onabort=zh(df,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zh(df,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else sn(2);t.G=0,t.j&&t.j.va(e),OO(t),SO(t)}function OO(t){t.G=0,t.I=-1,t.j&&((0!=vO(t.i).length||0!=t.l.length)&&(t.i.i.length=0,vI(t.l),t.l.length=0),t.j.ua())}function FO(t,e,n){let r=function BZ(t){return t instanceof Ss?ui(t):new Ss(t,void 0)}(n);if(""!=r.i)e&&uf(r,e+"."+r.i),lf(r,r.m);else{const i=H.location;r=function jZ(t,e,n,r){var i=new Ss(null,void 0);return t&&af(i,t),e&&uf(i,e),n&&lf(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&EI(t.aa,function(i,s){ke(r,s,i)}),n=t.sa,(e=t.D)&&n&&ke(r,e,n),ke(r,"VER",t.ma),kl(t,r),r}function LO(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&t.Ba&&!t.qa?new Al({ib:!0}):t.qa)).L=t.H,e}function VO(){}function yf(){if(ua&&!(10<=Number(_Z)))throw Error("Environmental error: no available transport.")}function kn(t,e){vt.call(this),this.g=new AO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Kh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ha(this)}function UO(t){HI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function BO(){GI.call(this),this.status=1}function ha(t){this.g=t}(N=Je.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qI.g(),this.C=function nO(t){return t.h||(t.h=t.i())}(this.u?this.u:qI),this.g.onreadystatechange=Mt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void IO(this,s)}t=n||"";const i=new ca(this.headers);r&&QI(r,function(s,o){i.set(o,s)}),r=function hZ(t){e:{var e=ree;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=H.FormData&&t instanceof H.FormData,!(0<=AP(tee,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{CO(this),0<this.B&&((this.K=function nee(t){return ua&&function yZ(){return function fZ(t){var e=mZ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=MP(String(Qh)).split("."),n=MP("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=wI(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||wI(0==i[2].length,0==s[2].length)||wI(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.pa,this)):this.A=jI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){IO(this,s)}},N.pa=function(){void 0!==mI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),ff(this))},N.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ff(this,!0)),Je.Z.M.call(this)},N.Fa=function(){this.s||(this.F||this.v||this.l?DO(this):this.cb())},N.cb=function(){DO(this)},N.ba=function(){try{return 2<li(this)?this.g.status:-1}catch(t){return-1}},N.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},N.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ZZ(e)}},N.Da=function(){return this.m},N.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=AO.prototype).ma=8,N.G=1,N.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},N.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new El(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=RP(s),OP(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=MO(this,i,e),ke(n=ui(this.F),"RID",t),ke(n,"CVER",22),this.D&&ke(n,"X-HTTP-Session-Id",this.D),kl(this,n),this.o&&s&&tb(n,this.o,s),XI(this.i,i),this.Ra&&ke(n,"TYPE","init"),this.ja?(ke(n,"$req",e),ke(n,"SID","null"),i.$=!0,zI(i,n,null)):zI(i,n,e),this.G=2}}else 3==this.G&&(t?xO(this,t):0==this.l.length||mO(this.i)||xO(this))},N.Ga=function(){if(this.u=null,NO(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=vl(Mt(this.bb,this),t)}},N.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sn(10),pf(this),NO(this))},N.ab=function(){null!=this.v&&(this.v=null,pf(this),ib(this),sn(19))},N.jb=function(t){t?(this.h.info("Successfully pinged google.com"),sn(2)):(this.h.info("Failed to ping google.com"),sn(1))},(N=VO.prototype).xa=function(){},N.wa=function(){},N.va=function(){},N.ua=function(){},N.Oa=function(){},yf.prototype.g=function(t,e){return new kn(t,e)},kt(kn,vt),kn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),LI(Mt(t.hb,t,e))),sn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=FO(t,null,t.W),gf(t)},kn.prototype.close=function(){nb(this.g)},kn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,rb(this.g,e)}else this.v?((e={}).__data__=FI(t),rb(this.g,e)):rb(this.g,t)},kn.prototype.M=function(){this.g.j=null,delete this.j,nb(this.g),delete this.g,kn.Z.M.call(this)},kt(UO,HI),kt(BO,GI),kt(ha,VO),ha.prototype.xa=function(){Nt(this.g,"a")},ha.prototype.wa=function(t){Nt(this.g,new UO(t))},ha.prototype.va=function(t){Nt(this.g,new BO(t))},ha.prototype.ua=function(){Nt(this.g,"b")},yf.prototype.createWebChannel=yf.prototype.g,kn.prototype.send=kn.prototype.u,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,nf.NO_ERROR=0,nf.TIMEOUT=8,nf.HTTP_ERROR=6,tO.COMPLETE="complete",rO.EventType=wl,wl.OPEN="a",wl.CLOSE="b",wl.ERROR="c",wl.MESSAGE="d",vt.prototype.listen=vt.prototype.N,Je.prototype.listenOnce=Je.prototype.O,Je.prototype.getLastError=Je.prototype.La,Je.prototype.getLastErrorCode=Je.prototype.Da,Je.prototype.getStatus=Je.prototype.ba,Je.prototype.getResponseJson=Je.prototype.Qa,Je.prototype.getResponseText=Je.prototype.ga,Je.prototype.send=Je.prototype.ea;var oee=ai.createWebChannelTransport=function(){return new yf},aee=ai.getStatEventTarget=function(){return tf()},ob=ai.ErrorCode=nf,uee=ai.EventType=tO,lee=ai.Event=Cs,jO=ai.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},cee=ai.FetchXmlHttpFactory=Al,_f=ai.WebChannel=rO,dee=ai.XhrIo=Je;const $O="@firebase/firestore";class Rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");let fa="9.8.0";const Mi=new Ko("@firebase/firestore");function ab(){return Mi.logLevel}function C(t,...e){if(Mi.logLevel<=le.DEBUG){const n=e.map(ub);Mi.debug(`Firestore (${fa}): ${t}`,...n)}}function Xe(t,...e){if(Mi.logLevel<=le.ERROR){const n=e.map(ub);Mi.error(`Firestore (${fa}): ${t}`,...n)}}function vf(t,...e){if(Mi.logLevel<=le.WARN){const n=e.map(ub);Mi.warn(`Firestore (${fa}): ${t}`,...n)}}function ub(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function R(t="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+t;throw Xe(e),new Error(e)}function j(t,e){t||R()}function x(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class HO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class pee{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new wt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new HO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Rt(e)}}class gee{constructor(e,n,r){this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class mee{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new gee(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yee{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.p=n.token,new GO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Nn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function _ee(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Nn.A=-1;class qO{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_ee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function pa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new Ze(0,0))}static max(){return new V(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function zO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Nl{constructor(e,n,r){void 0===n?n=0:n>e.length&&R(),void 0===r?r=e.length-n:r>e.length-n&&R(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Nl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ce extends Nl{construct(e,n,r){return new ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}const vee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Nl{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return vee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}class ga{constructor(e){this.fields=e,e.sort(Et.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const wee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(t){if(j(!!t),"string"==typeof t){let e=0;const n=wee.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ks(t){return"string"==typeof t?ut.fromBase64String(t):ut.fromUint8Array(t)}function lb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function QO(t){const e=t.mapValue.fields.__previous_value__;return lb(e)?QO(e):e}function Rl(t){const e=ki(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}class Eee{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Ni{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ni("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ni&&e.projectId===this.projectId&&e.database===this.database}}function Pl(t){return null==t}function Ol(t){return 0===t&&1/t==-1/0}class S{constructor(e){this.path=e}static fromPath(e){return new S(ce.fromString(e))}static fromName(e){return new S(ce.fromString(e).popFirst(5))}static empty(){return new S(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ce.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new ce(e.slice()))}}const Ri_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lb(t)?4:eF(t)?9007199254740991:10:R()}function Mr(t,e){if(t===e)return!0;const n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rl(t).isEqual(Rl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ki(r.timestampValue),o=ki(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ks(t.bytesValue).isEqual(ks(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ue(r.geoPointValue.latitude)===Ue(i.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ue(r.integerValue)===Ue(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ue(r.doubleValue),o=Ue(i.doubleValue);return s===o?Ol(s)===Ol(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(zO(s)!==zO(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Mr(s[a],o[a])))return!1;return!0}(t,e);default:return R()}var i}function Fl(t,e){return void 0!==(t.values||[]).find(n=>Mr(n,e))}function Pi(t,e){if(t===e)return 0;const n=Ns(t),r=Ns(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ue(i.integerValue||i.doubleValue),a=Ue(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return JO(t.timestampValue,e.timestampValue);case 4:return JO(Rl(t),Rl(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ks(i),a=ks(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=K(o[u],a[u]);if(0!==l)return l}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(Ue(i.latitude),Ue(s.latitude));return 0!==o?o:K(Ue(i.longitude),Ue(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Pi(o[u],a[u]);if(l)return l}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ri_mapValue&&s===Ri_mapValue)return 0;if(i===Ri_mapValue)return 1;if(s===Ri_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=K(a[c],l[c]);if(0!==d)return d;const h=Pi(o[a[c]],u[l[c]]);if(0!==h)return h}return K(a.length,l.length)}(t.mapValue,e.mapValue);default:throw R()}}function JO(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=ki(t),r=ki(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function ma(t){return cb(t)}function cb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ki(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ks(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=cb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${cb(r.fields[a])}`;return s+"}"}(t.mapValue):R();var e}function db(t){return!!t&&"integerValue"in t}function Ll(t){return!!t&&"arrayValue"in t}function XO(t){return!!t&&"nullValue"in t}function ZO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ef(t){return!!t&&"mapValue"in t}function Vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ms(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(Vl(this.value))}}function rF(t){const e=[];return Ms(t.fields,(n,r)=>{const i=new Et([n]);if(Ef(r)){const s=rF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ga(e)}class Ae{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ae(e,0,V.min(),V.min(),qt.empty(),0)}static newFoundDocument(e,n,r){return new Ae(e,1,n,V.min(),r,0)}static newNoDocument(e,n){return new Ae(e,2,n,V.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new Ae(e,3,n,V.min(),qt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ae&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ae(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function Dee(t){return new lr(t.readTime,t.key,-1)}class lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(V.min(),S.empty(),-1)}static max(){return new lr(V.max(),S.empty(),-1)}}function sF(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}class He{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Pt.RED,this.left=null!=i?i:Pt.EMPTY,this.right=null!=s?s:Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();const e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1,Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ce{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oF(this.data.getIterator())}getIteratorFrom(e){return new oF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ce(this.comparator);return n.data=e,n}}class oF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cee{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function aF(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Cee(t,e,n,r,i,s,o)}function Os(t){const e=x(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ma(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Pl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ma(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ma(r)).join(",")),e.P=n}return e.P}function Bl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Pee(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Mr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hF(t.startAt,e.startAt)&&hF(t.endAt,e.endAt)}function Cf(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ot extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,r):new Aee(e,n,r):"array-contains"===n?new Mee(e,r):"in"===n?new kee(e,r):"not-in"===n?new Nee(e,r):"array-contains-any"===n?new Ree(e,r):new Ot(e,n,r)}static V(e,n,r){return"in"===n?new See(e,r):new xee(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Pi(n,this.value)):null!==n&&Ns(this.value)===Ns(n)&&this.v(Pi(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Aee extends Ot{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.v(n)}}class See extends Ot{constructor(e,n){super(e,"in",n),this.keys=cF(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xee extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=cF(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cF(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class Mee extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ll(n)&&Fl(n.arrayValue,this.value)}}class kee extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Fl(this.value.arrayValue,n)}}class Nee extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Fl(this.value.arrayValue,n)}}class Ree extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ll(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fl(this.value.arrayValue,r))}}class Oi{constructor(e,n){this.position=e,this.inclusive=n}}class _a{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function dF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):Pi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function hF(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}class ci{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function va(t){return new ci(t)}function wa(t){const e=x(t);if(null===e.D){e.D=[];const n=function pb(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function fb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new _a(n)),e.D.push(new _a(Et.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new _a(Et.keyField(),s))}}}return e.D}function Wn(t){const e=x(t);if(!e.C)if("F"===e.limitType)e.C=aF(e.path,e.collectionGroup,wa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of wa(e))n.push(new _a(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Oi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Oi(e.startAt.position,e.startAt.inclusive):null;e.C=aF(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function jl(t,e){return Bl(Wn(t),Wn(e))&&t.limitType===e.limitType}function gF(t){return`${Os(Wn(t))}|lt:${t.limitType}`}function mb(t){return`Query(target=${function Tee(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${ma(r.value)}`;var r}).join(", ")}]`),Pl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ma(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ma(n)).join(",")),`Target(${e})`}(Wn(t))}; limitType=${t.limitType})`}function yb(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=dF(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,wa(n),r)||n.endAt&&!function(i,s,o){const a=dF(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,wa(n),r)));var n,r}function yF(t){return(e,n)=>{let r=!1;for(const i of wa(t)){const s=Fee(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Fee(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Pi(a,u):R()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}function _F(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ol(e)?"-0":e}}function vF(t){return{integerValue:""+t}}function wF(t,e){return function YO(t){return"number"==typeof t&&Number.isInteger(t)&&!Ol(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?vF(e):_F(t,e)}class Af{constructor(){this._=void 0}}function Lee(t,e,n){return t instanceof Ea?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Fs?IF(t,e):t instanceof Ls?bF(t,e):function(r,i){const s=EF(r,i),o=DF(s)+DF(r.k);return db(s)&&db(r.k)?vF(o):_F(r.M,o)}(t,e)}function Vee(t,e,n){return t instanceof Fs?IF(t,e):t instanceof Ls?bF(t,e):n}function EF(t,e){return t instanceof Ia?db(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ea extends Af{}class Fs extends Af{constructor(e){super(),this.elements=e}}function IF(t,e){const n=CF(e);for(const r of t.elements)n.some(i=>Mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ls extends Af{constructor(e){super(),this.elements=e}}function bF(t,e){let n=CF(e);for(const r of t.elements)n=n.filter(i=>!Mr(i,r));return{arrayValue:{values:n}}}class Ia extends Af{constructor(e,n){super(),this.M=e,this.k=n}}function DF(t){return Ue(t.integerValue||t.doubleValue)}function CF(t){return Ll(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Bee{constructor(e,n){this.version=e,this.transformResults=n}}class et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class xf{}function jee(t,e,n){t instanceof Hl?function(r,i,s){const o=r.value.clone(),a=xF(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vs?function(r,i,s){if(!Sf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=xF(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(SF(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function _b(t,e,n){var i;t instanceof Hl?function(r,i,s){if(!Sf(r.precondition,i))return;const o=r.value.clone(),a=MF(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(AF(i),o).setHasLocalMutations()}(t,e,n):t instanceof Vs?function(r,i,s){if(!Sf(r.precondition,i))return;const o=MF(r.fieldTransforms,s,i),a=i.data;a.setAll(SF(r)),a.setAll(o),i.convertToFoundDocument(AF(i),a).setHasLocalMutations()}(t,e,n):Sf(t.precondition,i=e)&&i.convertToNoDocument(V.min())}function $ee(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=EF(r.transform,i||null);null!=s&&(null==n&&(n=qt.empty()),n.set(r.field,s))}return n||null}function TF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&pa(n,r,(i,s)=>function Uee(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Fs&&r instanceof Fs||n instanceof Ls&&r instanceof Ls?pa(n.elements,r.elements,Mr):n instanceof Ia&&r instanceof Ia?Mr(n.k,r.k):n instanceof Ea&&r instanceof Ea);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function AF(t){return t.isFoundDocument()?t.version:V.min()}class Hl extends xf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Vs extends xf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function SF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xF(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Vee(o,a,n[i]))}return r}function MF(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Lee(s,o,e))}return r}class Gl extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class vb extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class Hee{constructor(e){this.count=e}}var tt,de;function kF(t){switch(t){default:return R();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function NF(t){if(void 0===t)return Xe("GRPC error has no .code"),v.UNKNOWN;switch(t){case tt.OK:return v.OK;case tt.CANCELLED:return v.CANCELLED;case tt.UNKNOWN:return v.UNKNOWN;case tt.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case tt.INTERNAL:return v.INTERNAL;case tt.UNAVAILABLE:return v.UNAVAILABLE;case tt.UNAUTHENTICATED:return v.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case tt.NOT_FOUND:return v.NOT_FOUND;case tt.ALREADY_EXISTS:return v.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return v.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case tt.ABORTED:return v.ABORTED;case tt.OUT_OF_RANGE:return v.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return v.UNIMPLEMENTED;case tt.DATA_LOSS:return v.DATA_LOSS;default:return R()}}(de=tt||(tt={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return KO(this.inner)}size(){return this.innerSize}}const Gee=new He(S.comparator);function zn(){return Gee}const qee=new He(S.comparator);function wb(...t){let e=qee;for(const n of t)e=e.insert(n.key,n);return e}function ql(){return new Fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wee=new He(S.comparator),zee=new Ce(S.comparator);function pe(...t){let e=zee;for(const n of t)e=e.add(n);return e}const Kee=new Ce(K);function Mf(){return Kee}class Wl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,zl.createSynthesizedTargetChangeForCurrentChange(e,n)),new Wl(V.min(),r,Mf(),zn(),pe())}}class zl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new zl(ut.EMPTY_BYTE_STRING,n,pe(),pe(),pe())}}class kf{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class RF{constructor(e,n){this.targetId=e,this.$=n}}class PF{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OF{constructor(){this.B=0,this.L=LF(),this.U=ut.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=pe(),n=pe(),r=pe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:R()}}),new zl(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=LF()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Qee{constructor(e){this.nt=e,this.st=new Map,this.it=zn(),this.rt=FF(),this.ot=new Ce(K)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:R()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(Cf(s))if(0===r){const o=new S(s.path);this.ct(n,o,Ae.newNoDocument(o,V.min()))}else j(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Cf(a.target)){const u=new S(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.ct(o,u,Ae.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=pe();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.wt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new Wl(e,n,this.ot,this.it,r);return this.it=zn(),this.rt=FF(),this.ot=new Ce(K),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new OF,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Ce(K),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new OF),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function FF(){return new He(S.comparator)}function LF(){return new He(S.comparator)}const Yee={asc:"ASCENDING",desc:"DESCENDING"},Jee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Xee{constructor(e,n){this.databaseId=e,this.N=n}}function Kl(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VF(t,e){return t.N?e.toBase64():e.toUint8Array()}function Zee(t,e){return Kl(t,e.toTimestamp())}function It(t){return j(!!t),V.fromTimestamp(function(e){const n=ki(e);return new Ze(n.seconds,n.nanos)}(t))}function Eb(t,e){return(n=t,new ce(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function UF(t){const e=ce.fromString(t);return j(KF(e)),e}function Ql(t,e){return Eb(t.databaseId,e.path)}function kr(t,e){const n=UF(e);if(n.get(1)!==t.databaseId.projectId)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(jF(n))}function Ib(t,e){return Eb(t.databaseId,e)}function Yl(t){return new ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jF(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function $F(t,e,n){return{name:Ql(t,e),fields:n.value.mapValue.fields}}function GF(t,e){return{documents:[Ib(t,e.path)]}}function qF(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ib(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ib(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(ZO(d.value))return{unaryFilter:{field:ba(d.field),op:"IS_NAN"}};if(XO(d.value))return{unaryFilter:{field:ba(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(ZO(d.value))return{unaryFilter:{field:ba(d.field),op:"IS_NOT_NAN"}};if(XO(d.value))return{unaryFilter:{field:ba(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(d.field),op:ste(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:ba((c=l).field),direction:ite(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(l=e.limit,t.N||Pl(l)?l:{value:l});var l,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function WF(t){let e=function BF(t){const e=UF(t);return 4===e.length?ce.emptyPath():jF(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=zF(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>{return new _a(Da((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Pl(d)?null:d}(n.limit));let u=null;var c;n.startAt&&(u=new Oi((c=n.startAt).values||[],!!c.before));let l=null;return n.endAt&&(l=function(c){return new Oi(c.values||[],!c.before)}(n.endAt)),function fF(t,e,n,r,i,s,o,a){return new ci(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function zF(t){return t?void 0!==t.unaryFilter?[ate(t)]:void 0!==t.fieldFilter?[ote(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>zF(e)).reduce((e,n)=>e.concat(n)):R():[]}function ite(t){return Yee[t]}function ste(t){return Jee[t]}function ba(t){return{fieldPath:t.canonicalString()}}function Da(t){return Et.fromServerFormat(t.fieldPath)}function ote(t){return Ot.create(Da(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(t.fieldFilter.op),t.fieldFilter.value)}function ate(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Da(t.unaryFilter.field);return Ot.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Da(t.unaryFilter.field);return Ot.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Da(t.unaryFilter.field);return Ot.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Da(t.unaryFilter.field);return Ot.create(i,"!=",{nullValue:"NULL_VALUE"});default:return R()}}function ute(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KF(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}const eL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Us(t){return"IndexedDbTransactionError"===t.name}class Cb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jee(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&_b(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&_b(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(V.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,r)=>TF(n,r))&&pa(this.baseMutations,e.baseMutations,(n,r)=>TF(n,r))}}class Tb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=Wee;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Tb(e,n,r,i)}}class Ab{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Li{constructor(e,n,r,i,s=V.min(),o=V.min(),a=ut.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class rL{constructor(e){this.Jt=e}}function Sb(t){const e=WF({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function pF(t,e,n){return new ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class Hs{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Ue(e.integerValue));else if("doubleValue"in e){const r=Ue(e.doubleValue);isNaN(r)?this.ne(n,13):(this.ne(n,15),Ol(r)?n.se(0):n.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(n,20),"string"==typeof r?n.ie(r):(n.ie(`${r.seconds||""}`),n.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(ks(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(n,45),n.se(r.latitude||0),n.se(r.longitude||0)}else"mapValue"in e?eF(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):R()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const r=e.fields||{};this.ne(n,55);for(const i of Object.keys(r))this.re(i,n),this.te(r[i],n)}he(e,n){const r=e.values||[];this.ne(n,50);for(const i of r)this.te(i,n)}ae(e,n){this.ne(n,37),S.fromName(e).path.forEach(r=>{this.ne(n,60),this.le(r,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}Hs.fe=new Hs;class Lte{constructor(){this.qe=new kb}addToCollectionParentIndex(e,n){return this.qe.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(lr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class kb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ce(ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ce(ce.comparator)).toArray()}}new Uint8Array(0);class yn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Ws{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Ws(0)}static yn(){return new Ws(-1)}}function zs(t){return Rb.apply(this,arguments)}function Rb(){return Rb=m(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==eL)throw t;C("LocalStore","Unexpectedly lost primary lease")}),Rb.apply(this,arguments)}class Kte{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,n.path):function gb(t){return null!==t.collectionGroup}(n)?this.Ws(e,n,r):this.zs(e,n,r);var i}js(e,n){return this.Ls(e,new S(n)).next(r=>{let i=wb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=wb();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(l=n,c=a.child(i),new ci(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.zs(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let l=i.get(u);null==l&&(l=Ae.newInvalidDocument(u),i=i.insert(u,l)),_b(a,l,o.localWriteTime),l.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{yb(n,o)||(i=i.remove(s))}),i))}}class Lb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Lb(e,n.fromCache,r,i)}}class IL{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,r,i){return this.ti(e,n).next(s=>s||this.ei(e,n,i,r)).next(s=>s||this.ni(e,n))}ti(e,n){return w.resolve(null)}ei(e,n,r,i){return function Oee(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(V.min())?this.ni(e,n):this.Zs.Ks(e,r).next(s=>{const o=this.si(n,s);return this.ii(n,o,r,i)?this.ni(e,n):(ab()<=le.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mb(n)),this.ri(e,o,n,function iF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new Ze(n+1,0):new Ze(n,r));return new lr(i,S.empty(),e)}(i,-1)))})}si(e,n){let r=new Ce(yF(e));return n.forEach((i,s)=>{yb(e,s)&&(r=r.add(s))}),r}ii(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,n){return ab()<=le.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",mb(n)),this.Zs.Qs(e,n,lr.min())}ri(e,n,r,i){return this.Zs.Qs(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Qte{constructor(e,n,r,i){this.persistence=e,this.oi=n,this.M=i,this.ui=new He(K),this.ai=new Fi(s=>Os(s),Bl),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Kte(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function DL(t,e){return Vb.apply(this,arguments)}function Vb(){return Vb=m(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.li(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=pe();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.fi.Ks(r,u).next(l=>({di:l,removedBatchIds:o,addedBatchIds:a}))})})}),Vb.apply(this,arguments)}function Yte(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);j(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.Bs.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.fi.Ks(r,i))})}function CL(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function Jte(t,e){const n=x(t),r=e.snapshotVersion;let i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;const a=[];e.targetChanges.forEach((l,c)=>{const d=i.get(c);if(!d)return;a.push(n.fs.removeMatchingKeys(s,l.removedDocuments,c).next(()=>n.fs.addMatchingKeys(s,l.addedDocuments,c)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,g;e.targetMismatches.has(c)?h=h.withResumeToken(ut.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(c,h),p=h,g=l,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.fs.updateTargetData(s,h))});let u=zn();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function TL(t,e,n){let r=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=zn();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(V.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):C("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(l=>{u=l})),!r.isEqual(V.min())){const l=n.fs.getLastRemoteSnapshotVersion(s).next(c=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.fi.Gs(s,u)).next(()=>u)}).then(s=>(n.ui=i,s))}function Xte(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Sa(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new Li(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ui=n.ui.insert(r.targetId,r),n.ai.set(e,r.targetId)),r})}function xa(t,e,n){return Ub.apply(this,arguments)}function Ub(){return Ub=m(function*(t,e,n){const r=x(t),i=r.ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Us(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),Ub.apply(this,arguments)}function jf(t,e,n){const r=x(t);let i=V.min(),s=pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=x(a),d=c.ai.get(l);return void 0!==d?w.resolve(c.ui.get(d)):c.fs.getTargetData(u,l)}(r,o,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.oi.Qs(o,e,n?i:V.min(),n?s:pe())).next(a=>(function xL(t,e,n){let r=V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ci.set(e,r)}(r,function mF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,_i:s})))}class tne{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return w.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var r;return this.yi.set(n.id,{id:(r=n).id,version:r.version,createTime:It(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,{name:(r=n).name,query:Sb(r.bundledQuery),readTime:It(r.readTime)}),w.resolve();var r}}class nne{constructor(){this.overlays=new He(S.comparator),this.Ii=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=ql(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=ql(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=ql(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return w.resolve(a)}Xt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ab(n,r));let s=this.Ii.get(n);void 0===s&&(s=pe(),this.Ii.set(n,s)),this.Ii.set(n,s.add(r.key))}}class $b{constructor(){this.Ti=new Ce(Dt.Ei),this.Ai=new Ce(Dt.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Pi(new Dt(e,n))}Vi(e,n){e.forEach(r=>this.removeReference(r,n))}vi(e){const n=new S(new ce([])),r=new Dt(n,e),i=new Dt(n,e+1),s=[];return this.Ai.forEachInRange([r,i],o=>{this.Pi(o),s.push(o.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new S(new ce([])),r=new Dt(n,e),i=new Dt(n,e+1);let s=pe();return this.Ai.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Dt(e,0),r=this.Ti.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return S.comparator(e.key,n.key)||K(e.Ci,n.Ci)}static Ri(e,n){return K(e.Ci,n.Ci)||S.comparator(e.key,n.key)}}class rne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Ce(Dt.Ei)}checkEmpty(e){return w.resolve(0===this.Bs.length)}addMutationBatch(e,n,r,i){const s=this.xi;this.xi++;const o=new Cb(s,n,r,i);this.Bs.push(o);for(const a of i)this.Ni=this.Ni.add(new Dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Mi(n+1),s=i<0?0:i;return w.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return w.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],o=>{const a=this.ki(o.Ci);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ce(K);return n.forEach(i=>{const s=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,o],a=>{r=r.add(a.Ci)})}),w.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new Dt(new S(s),0);let a=new Ce(K);return this.Ni.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Ci)),!0)},o),w.resolve(this.Oi(a))}Oi(e){const n=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Fi(n.batchId,"removed")),this.Bs.shift();let r=this.Ni;return w.forEach(n.mutations,i=>{const s=new Dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,n){const r=new Dt(n,0),i=this.Ni.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class ine{constructor(e){this.$i=e,this.docs=new He(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.$i(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ae.newInvalidDocument(n))}getEntries(e,n){let r=zn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ae.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,n,r){let i=zn();const s=new S(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||sF(Dee(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,n,r,i){R()}Bi(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sne(this)}getSize(e){return w.resolve(this.size)}}class sne extends class Gte{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ae.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class one{constructor(e){this.persistence=e,this.Li=new Fi(n=>Os(n),Bl),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ui=0,this.qi=new $b,this.targetCount=0,this.Ki=Ws.gn()}forEachTarget(e,n){return this.Li.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ui&&(this.Ui=n),w.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new Ws(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Tn(n),w.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Li.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Li.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Li.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.qi.bi(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.qi.Vi(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qi.Di(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.qi.containsKey(n))}}class ane{constructor(e,n){this.Gi={},this.overlays={},this.es=new Nn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new one(this),this.indexManager=new Lte,this.ds=new ine(r=>this.referenceDelegate.Qi(r)),this.M=new rL(n),this._s=new tne(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Gi[e.toKey()];return r||(r=new rne(n,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new une(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,n){return w.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,n)))}}class une extends class Ate{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Hb{constructor(e){this.persistence=e,this.Hi=new $b,this.Ji=null}static Yi(e){return new Hb(e)}get Xi(){if(this.Ji)return this.Ji;throw R()}addReference(e,n,r){return this.Hi.addReference(r,n),this.Xi.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Hi.removeReference(r,n),this.Xi.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),w.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Xi,r=>{const i=S.fromPath(r);return this.Zi(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(r=>{r?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return w.or([()=>w.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}class Wb{constructor(){this.activeTargetIds=Mf()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NL{constructor(){this.Ur=new Wb,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Wb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lne{Kr(e){}shutdown(){}}class RL{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const cne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class dne{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class hne extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ho(e,n);C("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(C("RestConnection","Received: ",u),u),u=>{throw vf("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s){return this.co(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.uo}/v1/${n}:${cne[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new dee;a.listenOnce(uee.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case ob.NO_ERROR:const l=a.getResponseJson();C("Connection","XHR received:",JSON.stringify(l)),s(l);break;case ob.TIMEOUT:C("Connection",'RPC "'+e+'" timed out'),o(new D(v.DEADLINE_EXCEEDED,"Request time out"));break;case ob.HTTP_ERROR:const c=a.getStatus();if(C("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(v.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{C("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=oee(),o=aee(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new cee({})),this.lo(a.initMessageHeaders,n,r),kk()||Nk()||function _8(){return Sn().indexOf("Electron/")>=0}()||function v8(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||function w8(){return Sn().indexOf("MSAppHost/")>=0}()||Kd()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");C("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new dne({Jr:p=>{d?C("Connection","Not sending because WebChannel is closed:",p):(c||(C("Connection","Opening WebChannel transport."),l.open(),c=!0),C("Connection","WebChannel sending:",p),l.send(p))},Yr:()=>l.close()}),f=(p,g,_)=>{p.listen(g,E=>{try{_(E)}catch(y){setTimeout(()=>{throw y},0)}})};return f(l,_f.EventType.OPEN,()=>{d||C("Connection","WebChannel transport opened.")}),f(l,_f.EventType.CLOSE,()=>{d||(d=!0,C("Connection","WebChannel transport closed"),h.ro())}),f(l,_f.EventType.ERROR,p=>{d||(d=!0,vf("Connection","WebChannel transport errored:",p),h.ro(new D(v.UNAVAILABLE,"The operation could not be completed")))}),f(l,_f.EventType.MESSAGE,p=>{var g;if(!d){const _=p.data[0];j(!!_);const E=_,y=E.error||(null===(g=E[0])||void 0===g?void 0:g.error);if(y){C("Connection","WebChannel received error:",y);const T=y.status;let P=function(Z){const Se=tt[Z];if(void 0!==Se)return NF(Se)}(T),O=y.message;void 0===P&&(P=v.INTERNAL,O="Unknown error status: "+T+" with message "+y.message),d=!0,h.ro(new D(P,O)),l.close()}else C("Connection","WebChannel received:",_),h.oo(_)}}),f(o,lee.STAT_EVENT,p=>{p.stat===jO.PROXY?C("Connection","Detected buffering proxy"):p.stat===jO.NOPROXY&&C("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.io()},0),h}}function Gf(){return"undefined"!=typeof document?document:null}function oc(t){return new Xee(t,!0)}class Kb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class OL{constructor(e,n,r,i,s,o,a,u){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Kb(e,n)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return m(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return m(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var r=this;return m(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Xe(n.toString()),Xe("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new D(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro(m(function*(){e.state=0,e.start()}))}jo(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fne extends OL{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function tte(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:R(),i=e.targetChange.targetIds||[],s=function(u,l){return u.N?(j(void 0===l||"string"==typeof l),ut.fromBase64String(l||"")):(j(void 0===l||l instanceof Uint8Array),ut.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?v.UNKNOWN:NF(u.code);return new D(l,u.message||"")}(o);n=new PF(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=kr(t,r.document.name),s=It(r.document.updateTime),o=new qt({mapValue:{fields:r.document.fields}}),a=Ae.newFoundDocument(i,s,o);n=new kf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=kr(t,r.document),s=r.readTime?It(r.readTime):V.min(),o=Ae.newNoDocument(i,s);n=new kf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=kr(t,r.document);n=new kf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return R();{const r=e.filter,s=new Hee(r.count||0);n=new RF(r.targetId,s)}}var u;return n}(this.M,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?It(s.readTime):V.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=Yl(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=Cf(a)?{documents:GF(i,a)}:{query:qF(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=VF(i,s.resumeToken):s.snapshotVersion.compareTo(V.min())>0&&(o.readTime=Kl(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function rte(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return R()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=Yl(this.M),n.removeTarget=e,this.Lo(n)}}class pne extends OL{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function nte(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=It(r.updateTime?r.updateTime:i);return s.isEqual(V.min())&&(s=It(i)),new Bee(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=It(e.commitTime);return this.listener.tu(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Yl(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Jl(t,e){let n;if(e instanceof Hl)n={update:$F(t,e.key,e.value)};else if(e instanceof Gl)n={delete:Ql(t,e.key)};else if(e instanceof Vs)n={update:$F(t,e.key,e.data),updateMask:ute(e.fieldMask)};else{if(!(e instanceof vb))return R();n={verify:Ql(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ea)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ls)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ia)return{fieldPath:s.field.canonicalString(),increment:o.k};throw R()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Zee(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:R()),n;var i}(this.M,r))};this.Lo(n)}}class gne extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}_o(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class mne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Xe(n),this.uu=!1):C("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class yne{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(a=>{r.enqueueAndForget(m(function*(){var u;Bi(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(l){const c=x(l);c.wu.add(4),yield Ma(c),c.yu.set("Unknown"),c.wu.delete(4),yield ac(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.yu=new mne(r,i)}}function ac(t){return Qb.apply(this,arguments)}function Qb(){return Qb=m(function*(t){if(Bi(t))for(const e of t.mu)yield e(!0)}),Qb.apply(this,arguments)}function Ma(t){return Yb.apply(this,arguments)}function Yb(){return Yb=m(function*(t){for(const e of t.mu)yield e(!1)}),Yb.apply(this,arguments)}function qf(t,e){const n=x(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),Zb(n)?Xb(n):Na(n).Mo()&&Jb(n,e))}function uc(t,e){const n=x(t),r=Na(n);n._u.delete(e),r.Mo()&&FL(n,e),0===n._u.size&&(r.Mo()?r.$o():Bi(n)&&n.yu.set("Unknown"))}function Jb(t,e){t.pu.Z(e.targetId),Na(t).Ho(e)}function FL(t,e){t.pu.Z(e),Na(t).Jo(e)}function Xb(t){t.pu=new Qee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t._u.get(e)||null}),Na(t).start(),t.yu.au()}function Zb(t){return Bi(t)&&!Na(t).ko()&&t._u.size>0}function Bi(t){return 0===x(t).wu.size}function LL(t){t.pu=void 0}function _ne(t){return eD.apply(this,arguments)}function eD(){return eD=m(function*(t){t._u.forEach((e,n)=>{Jb(t,e)})}),eD.apply(this,arguments)}function vne(t,e){return tD.apply(this,arguments)}function tD(){return tD=m(function*(t,e){LL(t),Zb(t)?(t.yu.lu(e),Xb(t)):t.yu.set("Unknown")}),tD.apply(this,arguments)}function wne(t,e,n){return nD.apply(this,arguments)}function nD(){return nD=m(function*(t,e,n){if(t.yu.set("Online"),e instanceof PF&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i._u.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._u.delete(a),i.pu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wf(t,r)}else if(e instanceof kf?t.pu.ut(e):e instanceof RF?t.pu._t(e):t.pu.ht(e),!n.isEqual(V.min()))try{const r=yield CL(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.pu.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i._u.get(u);l&&i._u.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i._u.get(a);if(!u)return;i._u.set(a,u.withResumeToken(ut.EMPTY_BYTE_STRING,u.snapshotVersion)),FL(i,a);const l=new Li(u.target,a,1,u.sequenceNumber);Jb(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield Wf(t,r)}var r}),nD.apply(this,arguments)}function Wf(t,e,n){return rD.apply(this,arguments)}function rD(){return rD=m(function*(t,e,n){if(!Us(e))throw e;t.wu.add(1),yield Ma(t),t.yu.set("Offline"),n||(n=()=>CL(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.wu.delete(1),yield ac(t)}))}),rD.apply(this,arguments)}function VL(t,e){return e().catch(n=>Wf(t,n,e))}function ka(t){return iD.apply(this,arguments)}function iD(){return iD=m(function*(t){const e=x(t),n=ji(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Ene(e);)try{const i=yield Xte(e.localStore,r);if(null===i){0===e.du.length&&n.$o();break}r=i.batchId,Ine(e,i)}catch(i){yield Wf(e,i)}UL(e)&&BL(e)}),iD.apply(this,arguments)}function Ene(t){return Bi(t)&&t.du.length<10}function Ine(t,e){t.du.push(e);const n=ji(t);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function UL(t){return Bi(t)&&!ji(t).ko()&&t.du.length>0}function BL(t){ji(t).start()}function bne(t){return sD.apply(this,arguments)}function sD(){return sD=m(function*(t){ji(t).nu()}),sD.apply(this,arguments)}function Dne(t){return oD.apply(this,arguments)}function oD(){return oD=m(function*(t){const e=ji(t);for(const n of t.du)e.Zo(n.mutations)}),oD.apply(this,arguments)}function Cne(t,e,n){return aD.apply(this,arguments)}function aD(){return aD=m(function*(t,e,n){const r=t.du.shift(),i=Tb.from(r,e,n);yield VL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ka(t)}),aD.apply(this,arguments)}function Tne(t,e){return uD.apply(this,arguments)}function uD(){return uD=m(function*(t,e){var n;e&&ji(t).Xo&&(yield(n=m(function*(r,i){if(kF(s=i.code)&&s!==v.ABORTED){const o=r.du.shift();ji(r).Fo(),yield VL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ka(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),UL(t)&&BL(t)}),uD.apply(this,arguments)}function jL(t,e){return lD.apply(this,arguments)}function lD(){return lD=m(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=Bi(n);n.wu.add(3),yield Ma(n),r&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield ac(n)}),lD.apply(this,arguments)}function dD(){return dD=m(function*(t,e){const n=x(t);e?(n.wu.delete(2),yield ac(n)):e||(n.wu.add(2),yield Ma(n),n.yu.set("Unknown"))}),dD.apply(this,arguments)}function Na(t){return t.Iu||(t.Iu=function(e,n,r){const i=x(e);return i.iu(),new fne(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:_ne.bind(null,t),eo:vne.bind(null,t),zo:wne.bind(null,t)}),t.mu.push(function(){var e=m(function*(n){n?(t.Iu.Fo(),Zb(t)?Xb(t):t.yu.set("Unknown")):(yield t.Iu.stop(),LL(t))});return function(n){return e.apply(this,arguments)}}())),t.Iu}function ji(t){return t.Tu||(t.Tu=function(e,n,r){const i=x(e);return i.iu(),new pne(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:bne.bind(null,t),eo:Tne.bind(null,t),eu:Dne.bind(null,t),tu:Cne.bind(null,t)}),t.mu.push(function(){var e=m(function*(n){n?(t.Tu.Fo(),yield ka(t)):(yield t.Tu.stop(),t.du.length>0&&(C("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))});return function(n){return e.apply(this,arguments)}}())),t.Tu}class hD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new hD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ra(t,e){if(Xe("AsyncQueue",`${e}: ${t}`),Us(t))return new D(v.UNAVAILABLE,`${e}: ${t}`);throw t}class Pa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=wb(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new Pa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class $L{constructor(){this.Eu=new He(S.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(n):1===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):R():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Oa{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Oa(e,n,Pa.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ane{constructor(){this.Ru=void 0,this.listeners=[]}}class Sne{constructor(){this.queries=new Fi(e=>gF(e),jl),this.onlineState="Unknown",this.bu=new Set}}function pD(){return pD=m(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ane),i)try{s.Ru=yield n.onListen(r)}catch(o){const a=Ra(o,`Initialization of query '${mb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.Vu(s.Ru)&&yD(n)}),pD.apply(this,arguments)}function mD(){return mD=m(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),mD.apply(this,arguments)}function xne(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Ru=i}}r&&yD(n)}function Mne(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function yD(t){t.bu.forEach(e=>{e.next()})}class _D{constructor(e,n,r){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class qL{constructor(e){this.key=e}}class WL{constructor(e){this.key=e}}class zL{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=pe(),this.mutatedKeys=pe(),this.Gu=yF(e),this.Qu=new Pa(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new $L,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=yb(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Gu(f,u)>0||l&&this.Gu(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||l)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,ii:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return f(d)-f(h)}(l.type,c.type)||this.Gu(l.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new Oa(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new $L,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=pe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new WL(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new qL(r))}),n}ta(e){this.Uu=e._i,this.Ku=pe();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return Oa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class Rne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Pne{constructor(e){this.key=e,this.na=!1}}class One{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Fi(a=>gF(a),jl),this.ra=new Map,this.oa=new Set,this.ua=new He(S.comparator),this.aa=new Map,this.ca=new $b,this.ha={},this.la=new Map,this.fa=Ws.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function Fne(t,e){return vD.apply(this,arguments)}function vD(){return vD=m(function*(t,e){const n=$D(t);let r,i;const s=n.ia.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const o=yield Sa(n.localStore,Wn(e));n.isPrimaryClient&&qf(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield wD(n,e,r,"current"===a)}return i}),vD.apply(this,arguments)}function wD(t,e,n,r){return ED.apply(this,arguments)}function ED(){return ED=m(function*(t,e,n,r){t._a=(c,d,h)=>{return(f=m(function*(p,g,_,E){let y=g.view.Wu(_);y.ii&&(y=yield jf(p.localStore,g.query,!1).then(({documents:O})=>g.view.Wu(O,y)));const T=E&&E.targetChanges.get(g.targetId),P=g.view.applyChanges(y,p.isPrimaryClient,T);return kD(p,g.targetId,P.Xu),P.snapshot}),function(p,g,_,E){return f.apply(this,arguments)})(t,c,d,h);var f};const i=yield jf(t.localStore,e,!0),s=new zL(e,i._i),o=s.Wu(i.documents),a=zl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);kD(t,n,u.Xu);const l=new Rne(e,n,s);return t.ia.set(e,l),t.ra.has(n)?t.ra.get(n).push(e):t.ra.set(n,[e]),u.snapshot}),ED.apply(this,arguments)}function Lne(t,e){return ID.apply(this,arguments)}function ID(){return ID=m(function*(t,e){const n=x(t),r=n.ia.get(e),i=n.ra.get(r.targetId);if(i.length>1)return n.ra.set(r.targetId,i.filter(s=>!jl(s,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),uc(n.remoteStore,r.targetId),Fa(n,r.targetId)}).catch(zs))):(Fa(n,r.targetId),yield xa(n.localStore,r.targetId,!0))}),ID.apply(this,arguments)}function bD(){return bD=m(function*(t,e,n){const r=HD(t);try{const i=yield function(s,o){const a=x(s),u=Ze.now(),l=o.reduce((d,h)=>d.add(h.key),pe());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.fi.Ks(d,l).next(h=>{c=h;const f=[];for(const p of o){const g=$ee(p,c.get(p.key));null!=g&&f.push(new Vs(p.key,g,rF(g.value.mapValue),et.exists(!0)))}return a.Bs.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(c),{batchId:d.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ha[s.currentUser.toKey()];u||(u=new He(K)),u=u.insert(o,a),s.ha[s.currentUser.toKey()]=u}(r,i.batchId,n),yield di(r,i.changes),yield ka(r.remoteStore)}catch(i){const s=Ra(i,"Failed to persist write");n.reject(s)}}),bD.apply(this,arguments)}function KL(t,e){return DD.apply(this,arguments)}function DD(){return DD=m(function*(t,e){const n=x(t);try{const r=yield Jte(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.aa.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.na=!0:i.modifiedDocuments.size>0?j(o.na):i.removedDocuments.size>0&&(j(o.na),o.na=!1))}),yield di(n,r,e)}catch(r){yield zs(r)}}),DD.apply(this,arguments)}function QL(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ia.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.Pu(o)&&(u=!0)}),u&&yD(a)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Une(t,e,n){return CD.apply(this,arguments)}function CD(){return CD=m(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.aa.get(e),s=i&&i.key;if(s){let o=new He(S.comparator);o=o.insert(s,Ae.newNoDocument(s,V.min()));const a=pe().add(s),u=new Wl(V.min(),new Map,new Ce(K),o,a);yield KL(r,u),r.ua=r.ua.remove(s),r.aa.delete(e),ND(r)}else yield xa(r.localStore,e,!1).then(()=>Fa(r,e,n)).catch(zs)}),CD.apply(this,arguments)}function Bne(t,e){return TD.apply(this,arguments)}function TD(){return TD=m(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield Yte(n.localStore,e);MD(n,r,null),xD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield di(n,i)}catch(i){yield zs(i)}}),TD.apply(this,arguments)}function jne(t,e,n){return AD.apply(this,arguments)}function AD(){return AD=m(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.Bs.lookupMutationBatch(u,o).next(c=>(j(null!==c),l=c.keys(),a.Bs.removeMutationBatch(u,c))).next(()=>a.Bs.performConsistencyCheck(u)).next(()=>a.fi.Ks(u,l))})}(r.localStore,e);MD(r,e,n),xD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield di(r,i)}catch(i){yield zs(i)}}),AD.apply(this,arguments)}function xD(t,e){(t.la.get(e)||[]).forEach(n=>{n.resolve()}),t.la.delete(e)}function MD(t,e,n){const r=x(t);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function Fa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ra.get(e))t.ia.delete(r),n&&t.sa.wa(r,n);t.ra.delete(e),t.isPrimaryClient&&t.ca.vi(e).forEach(r=>{t.ca.containsKey(r)||YL(t,r)})}function YL(t,e){t.oa.delete(e.path.canonicalString());const n=t.ua.get(e);null!==n&&(uc(t.remoteStore,n),t.ua=t.ua.remove(e),t.aa.delete(n),ND(t))}function kD(t,e,n){for(const r of n)r instanceof qL?(t.ca.addReference(r.key,e),Hne(t,r)):r instanceof WL?(C("SyncEngine","Document no longer in limbo: "+r.key),t.ca.removeReference(r.key,e),t.ca.containsKey(r.key)||YL(t,r.key)):R()}function Hne(t,e){const n=e.key,r=n.path.canonicalString();t.ua.get(n)||t.oa.has(r)||(C("SyncEngine","New document in limbo: "+n),t.oa.add(r),ND(t))}function ND(t){for(;t.oa.size>0&&t.ua.size<t.maxConcurrentLimboResolutions;){const e=t.oa.values().next().value;t.oa.delete(e);const n=new S(ce.fromString(e)),r=t.fa.next();t.aa.set(r,new Pne(n)),t.ua=t.ua.insert(n,r),qf(t.remoteStore,new Li(Wn(va(n.path)),r,2,Nn.A))}}function di(t,e,n){return RD.apply(this,arguments)}function RD(){return RD=m(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.ia.isEmpty()||(r.ia.forEach((a,u)=>{o.push(r._a(u,e,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=Lb.Ys(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.sa.zo(i),yield(a=m(function*(u,l){const c=x(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(l,h=>w.forEach(h.Hs,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Js,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Us(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.ui.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.ui=c.ui.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),RD.apply(this,arguments)}function Gne(t,e){return PD.apply(this,arguments)}function PD(){return PD=m(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield DL(n.localStore,e);n.currentUser=e,(i=n).la.forEach(o=>{o.forEach(a=>{a.reject(new D(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield di(n,r.di)}var i}),PD.apply(this,arguments)}function qne(t,e){const n=x(t),r=n.aa.get(e);if(r&&r.na)return pe().add(r.key);{let i=pe();const s=n.ra.get(e);if(!s)return i;for(const o of s){const a=n.ia.get(o);i=i.unionWith(a.view.ju)}return i}}function $D(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Une.bind(null,e),e.sa.zo=xne.bind(null,e.eventManager),e.sa.wa=Mne.bind(null,e.eventManager),e}function HD(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jne.bind(null,e),e}class ere{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.M=oc(e.databaseInfo.databaseId),n.sharedClientState=n.ga(e),n.persistence=n.ya(e),yield n.persistence.start(),n.gcScheduler=n.pa(e),n.localStore=n.Ia(e)})()}pa(e){return null}Ia(e){return function bL(t,e,n,r){return new Qte(t,e,n,r)}(this.persistence,new IL,e.initialUser,this.M)}ya(e){return new ane(Hb.Yi,this.M)}ga(e){return new NL}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GD{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>QL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Gne.bind(null,r.syncEngine),yield function cD(t,e){return dD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Sne}createDatastore(e){const n=oc(e.databaseInfo.databaseId),r=new hne(e.databaseInfo);return new gne(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>QL(this.syncEngine,a,0),o=RL.vt()?new RL:new lne,new yne(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){const c=new One(r,i,s,o,a,u);return l&&(c.da=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=x(n);C("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Ma(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class zf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ore{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=qO.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ra(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function eV(t,e){return qD.apply(this,arguments)}function qD(){return qD=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield DL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),qD.apply(this,arguments)}function tV(t,e){return WD.apply(this,arguments)}function WD(){return WD=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield zD(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>jL(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>jL(e.remoteStore,s)),t.onlineComponents=e}),WD.apply(this,arguments)}function zD(t){return KD.apply(this,arguments)}function KD(){return KD=m(function*(t){return t.offlineComponents||(C("FirestoreClient","Using default OfflineComponentProvider"),yield eV(t,new ere)),t.offlineComponents}),KD.apply(this,arguments)}function Kf(t){return QD.apply(this,arguments)}function QD(){return QD=m(function*(t){return t.onlineComponents||(C("FirestoreClient","Using default OnlineComponentProvider"),yield tV(t,new GD)),t.onlineComponents}),QD.apply(this,arguments)}function La(t){return XD.apply(this,arguments)}function XD(){return XD=m(function*(t){const e=yield Kf(t),n=e.eventManager;return n.onListen=Fne.bind(null,e.syncEngine),n.onUnlisten=Lne.bind(null,e.syncEngine),n}),XD.apply(this,arguments)}const oV=new Map;function ZD(t,e,n){if(!n)throw new D(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aV(t){if(!S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uV(t){if(S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":R()}function he(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qf(t);throw new D(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class cV{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function gre(t,e,n,r){if(!0===e&&!0===r)throw new D(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lc{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cV({}),this._settingsFrozen=!1,e instanceof Ni?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ni(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cV(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new hee;switch(n.type){case"gapi":const r=n.client;return j(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new mee(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=oV.get(e);n&&(C("ComponentProvider","Removing Datastore"),oV.delete(e),n.terminate())}(this),Promise.resolve()}}class Ge{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ge(this.firestore,e,this._key)}}class Wt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class Rr extends Wt{constructor(e,n,r){super(e,n,va(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ge(this.firestore,null,new S(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function mre(t,e,...n){if(t=Hn(t),ZD("collection","path",e),t instanceof lc){const r=ce.fromString(e,...n);return uV(r),new Rr(t,null,r)}{if(!(t instanceof Ge||t instanceof Rr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ce.fromString(e,...n));return uV(r),new Rr(t.firestore,null,r)}}class vre{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Kb(this,"async_queue_retry"),this.Qa=()=>{const n=Gf();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=Gf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=Gf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new wt;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return m(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(n){if(!Us(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Xe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=n,n}enqueueAfterDelay(e,n,r){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const i=hD.createAndSchedule(this,e,n,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&R()}verifyOperationInProgress(){}Ja(){var e=this;return m(function*(){let n;do{n=e.Fa,yield n}while(n!==e.Fa)})()}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.La)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function eC(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ne extends lc{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new vre,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||dV(this),this._firestoreClient.terminate()}}function Ere(t=Hk()){return Xd(t,"firestore").getImmediate()}function lt(t){return t._firestoreClient||dV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dV(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Eee(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new ore(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Va{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(ut.fromBase64String(e))}catch(n){throw new D(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pV{constructor(e){this._methodName=e}}class tC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const Ire=/^__.*__$/;class bre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hl(e,this.data,n,this.fieldTransforms)}}function mV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}class Yf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new Yf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Xf(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(mV(this.ec)&&Ire.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class Dre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||oc(e)}lc(e,n,r,i=!1){return new Yf({ec:e,methodName:n,hc:r,path:Et.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Ua(t){const e=t._freezeSettings(),n=oc(t._databaseId);return new Dre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nC(t,e,n,r,i,s={}){const o=t.lc(s.merge||s.mergeFields?2:0,e,n,i);iC("Data must be an object, but it was:",o,r);const a=EV(r,o);let u,l;if(s.merge)u=new ga(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=sC(e,d,n);if(!o.contains(h))throw new D(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);bV(c,h)||c.push(h)}u=new ga(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new bre(new qt(a),u,l)}function Ys(t,e){if(IV(t=Hn(t)))return iC("Unsupported field value:",e,t),EV(t,e);if(t instanceof pV)return function(n,r){if(!mV(r.ec))throw r.ac(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ys(o,r.uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Hn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return wF(r.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ze.fromDate(n);return{timestampValue:Kl(r.M,i)}}if(n instanceof Ze){const i=new Ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Kl(r.M,i)}}if(n instanceof tC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qs)return{bytesValue:VF(r.M,n._byteString)};if(n instanceof Ge){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Eb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ac(`Unsupported field value: ${Qf(n)}`)}(t,e)}function EV(t,e){const n={};return KO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(t,(r,i)=>{const s=Ys(i,e.sc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function IV(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof tC||t instanceof Qs||t instanceof Ge||t instanceof pV)}function iC(t,e,n){if(!IV(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Qf(n);throw e.ac("an object"===r?t+" a custom object":t+" "+r)}var r}function sC(t,e,n){if((e=Hn(e))instanceof Va)return e._internalPath;if("string"==typeof e)return Jf(t,e);throw Xf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Sre=new RegExp("[~\\*/\\[\\]]");function Jf(t,e,n){if(e.search(Sre)>=0)throw Xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Va(...e.split("."))._internalPath}catch(r){throw Xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(v.INVALID_ARGUMENT,a+t+u)}function bV(t,e){return t.some(n=>n.isEqual(e))}class oC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class xre extends oC{data(){return super.data()}}function Zf(t,e){return"string"==typeof e?Jf(t,e):e instanceof Va?e._internalPath:e._delegate._internalPath}class Js{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ba extends oC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ep(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ep extends Ba{data(e={}){return super.data(e)}}class ja{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Js(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ep(this._firestore,this._userDataWriter,r.key,r,new Js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ep(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Js(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new ep(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Js(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:Mre(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Mre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}class Xs extends class Pre{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw R()}}convertObject(e,n){const r={};return Ms(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new tC(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=QO(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const n=ki(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ce.fromString(e);j(KF(r));const i=new Ni(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||Xe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,n)}}function Fre(t,e){const n=he(t.firestore,Ne),r=function yre(t,e,...n){if(t=Hn(t),1===arguments.length&&(e=qO.R()),ZD("doc","path",e),t instanceof lc){const r=ce.fromString(e,...n);return aV(r),new Ge(t,null,new S(r))}{if(!(t instanceof Ge||t instanceof Rr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ce.fromString(e,...n));return aV(r),new Ge(t.firestore,t instanceof Rr?t.converter:null,new S(r))}}(t),i=function aC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function dc(t,e){return function(n,r){const i=new wt;return n.asyncQueue.enqueueAndForget(m(function*(){return function Vne(t,e,n){return bD.apply(this,arguments)}(yield function JD(t){return Kf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(lt(t),e)}(n,[nC(Ua(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}!function(t,e=!0){fa="9.8.1",en(new Ht("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ne(i,new pee(n.getProvider("auth-internal")),new yee(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),$e($O,"3.4.9",t),$e($O,"3.4.9","esm2017")}();var Ure={includeMetadataChanges:!1};function lC(t,e){return void 0===e&&(e=Ure),new Re(function(n){var r=function Lre(t,...e){var n,r,i;t=Hn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||eC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(eC(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(t instanceof Ge)l=he(t.firestore,Ne),c=va(t._key.path),u={next:d=>{e[o]&&e[o](function uC(t,e,n){const r=n.docs.get(e._key),i=new Xs(t);return new Ba(t,i,e._key,r,new Js(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=he(t,Wt);l=he(d.firestore,Ne),c=d._query;const h=new Xs(l);u={next:f=>{e[o]&&e[o](new ja(l,h,d,f))},error:e[o+1],complete:e[o+2]},function DV(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new zf(p),_=new _D(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function fD(t,e){return pD.apply(this,arguments)}(yield La(d),_)})),()=>{g.Aa(),d.asyncQueue.enqueueAndForget(m(function*(){return function gD(t,e){return mD.apply(this,arguments)}(yield La(d),_)}))}}(lt(l),c,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Wre(t,e){return void 0===e&&(e={}),function qre(t){return lC(t,{includeMetadataChanges:!0}).pipe(ye(function(e){return e.docs}))}(t).pipe(ye(function(n){return n.map(function(r){return function RV(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class np{constructor(e){return e}}const LV="firestore",hC=new z("angularfire2.firestore-instances");function Qre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new np(r)}}const Yre={provide:class zre{constructor(){return Rv(LV)}},deps:[[new gt,hC]]},Jre={provide:np,useFactory:function Kre(t,e){const n=function Nv(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(LV,t,e);return n&&new np(n)},deps:[[new gt,hC],Zo]};let Xre=(()=>{class t{constructor(){$e("angularfire",Dv.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({providers:[Jre,Yre]}),t})();function Zre(t,...e){return{ngModule:Xre,providers:[{provide:hC,useFactory:Qre(t),multi:!0,deps:[Ke,Bt,WN,zN,[new gt,rP],[new gt,TP],...e]}]}}const eie=oh(Wre,!0),VV=oh(mre,!0),tie=oh(Ere,!0);let UV=(()=>{class t{constructor(n){this.firestore=n}getBooks(){const n=VV(this.firestore,"books");return eie(n,{idField:"id"})}creatBook(n){return Fre(VV(this.firestore,"books"),n)}}return t.\u0275fac=function(n){return new(n||t)(F(np))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nie(t,e){if(1&t&&(ue(0,"div",2)(1,"h2"),Te(2),fe(),ue(3,"div")(4,"p"),Te(5),fe(),ue(6,"p"),Te(7),fe()()()),2&t){const n=e.$implicit;gd("id","bk-",n.id,""),ze(2),Du(" ",n.id," )",n.title,""),ze(3),Du(" ",n.author," || ",n.publishDate,""),ze(2),Du(" Page: ",n.page," , auditon: ",n.audition," ")}}let rie=(()=>{class t{constructor(n){this.BookSer=n,this.books=[]}ngOnInit(){this.BookSer.getBooks().subscribe(n=>{this.books=n})}AddTest(){var n=this;return m(function*(){yield n.BookSer.creatBook({title:"palestine",id:"ddd",author:"sha",audition:5,page:5555,publishDate:1999})})()}}return t.\u0275fac=function(n){return new(n||t)(b(UV))},t.\u0275cmp=Br({type:t,selectors:[["lib-books"]],decls:3,vars:1,consts:[[3,"click"],["class","div",3,"id",4,"ngFor","ngForOf"],[1,"div",3,"id"]],template:function(n,r){1&n&&(ue(0,"button",0),$t("click",function(){return r.AddTest()}),Te(1," Add Book "),fe(),dn(2,nie,8,7,"div",1)),2&n&&(ze(2),mt("ngForOf",r.books))},directives:[lk],styles:[""]}),t})(),iie=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Br({type:t,selectors:[["lib-home"]],decls:2,vars:0,template:function(n,r){1&n&&(ue(0,"p"),Te(1,"home works!"),fe())},styles:[""]}),t})(),BV=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(qr),b(An))},t.\u0275dir=B({type:t}),t})(),Zs=(()=>{class t extends BV{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,features:[me]}),t})();const Pr=new z("NgValueAccessor"),aie={provide:Pr,useExisting:Ie(()=>hc),multi:!0},lie=new z("CompositionEventMode");let hc=(()=>{class t extends BV{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uie(){const t=Dr()?Dr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(qr),b(An),b(lie,8))},t.\u0275dir=B({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&$t("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Me([aie]),me]}),t})();function $i(t){return null==t||0===t.length}function $V(t){return null!=t&&"number"==typeof t.length}const zt=new z("NgValidators"),Hi=new z("NgAsyncValidators"),cie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class eo{static min(e){return function HV(t){return e=>{if($i(e.value)||$i(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function GV(t){return e=>{if($i(e.value)||$i(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return qV(e)}static requiredTrue(e){return function WV(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function zV(t){return $i(t.value)||cie.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function KV(t){return e=>$i(e.value)||!$V(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function QV(t){return e=>$V(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return YV(e)}static nullValidator(e){return null}static compose(e){return nU(e)}static composeAsync(e){return rU(e)}}function qV(t){return $i(t.value)?{required:!0}:null}function YV(t){if(!t)return rp;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if($i(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function rp(t){return null}function JV(t){return null!=t}function XV(t){const e=Eu(t)?ft(t):t;return gm(e),e}function ZV(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function eU(t,e){return e.map(n=>n(t))}function tU(t){return t.map(e=>function die(t){return!t.validate}(e)?e:n=>e.validate(n))}function nU(t){if(!t)return null;const e=t.filter(JV);return 0==e.length?null:function(n){return ZV(eU(n,e))}}function fC(t){return null!=t?nU(tU(t)):null}function rU(t){if(!t)return null;const e=t.filter(JV);return 0==e.length?null:function(n){return function sie(...t){const e=fT(t),{args:n,keys:r}=KN(t),i=new Re(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;hr(n[c]).subscribe(dt(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?YN(r,a):a),s.complete())}))}});return e?i.pipe(QN(e)):i}(eU(n,e).map(XV)).pipe(ye(ZV))}}function pC(t){return null!=t?rU(tU(t)):null}function iU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function sU(t){return t._rawValidators}function oU(t){return t._rawAsyncValidators}function gC(t){return t?Array.isArray(t)?t:[t]:[]}function ip(t,e){return Array.isArray(t)?t.includes(e):t===e}function aU(t,e){const n=gC(e);return gC(t).forEach(i=>{ip(n,i)||n.push(i)}),n}function uU(t,e){return gC(e).filter(n=>!ip(t,n))}class lU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Gi extends lU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an extends lU{get formDirective(){return null}get path(){return null}}class cU{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let mC=(()=>{class t extends cU{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Gi,2))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&md("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[me]}),t})(),yC=(()=>{class t extends cU{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(an,10))},t.\u0275dir=B({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&md("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[me]}),t})();function op(t,e){return[...e.path,t]}function fc(t,e){wC(t,e),e.valueAccessor.writeValue(t.value),function vie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&hU(t,e)})}(t,e),function Eie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function wie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&hU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function _ie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ap(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),lp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function up(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function wC(t,e){const n=sU(t);null!==e.validator?t.setValidators(iU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=oU(t);null!==e.asyncValidator?t.setAsyncValidators(iU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();up(e._rawValidators,i),up(e._rawAsyncValidators,i)}function lp(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=sU(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=oU(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return up(e._rawValidators,r),up(e._rawAsyncValidators,r),n}function hU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function fU(t,e){wC(t,e)}function EC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function gU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function IC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===hc?n=s:function Die(t){return Object.getPrototypeOf(t.constructor)===Zs}(s)?r=s:i=s}),i||r||n||null}function bC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const pc="VALID",cp="INVALID",$a="PENDING",gc="DISABLED";function CC(t){return(dp(t)?t.validators:t)||null}function mU(t){return Array.isArray(t)?fC(t):t||null}function TC(t,e){return(dp(e)?e.asyncValidators:t)||null}function yU(t){return Array.isArray(t)?pC(t):t||null}function dp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const AC=t=>t instanceof mc,hp=t=>t instanceof yc,_U=t=>t instanceof IU;function vU(t){return AC(t)?t.value:t.getRawValue()}function wU(t,e){const n=hp(t),r=t.controls;if(!(n?Object.keys(r):r).length)throw new oe(1e3,"");if(!r[e])throw new oe(1001,"")}function EU(t,e){hp(t),t._forEachChild((r,i)=>{if(void 0===e[i])throw new oe(1002,"")})}class SC{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=mU(this._rawValidators),this._composedAsyncValidatorFn=yU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===pc}get invalid(){return this.status===cp}get pending(){return this.status==$a}get disabled(){return this.status===gc}get enabled(){return this.status!==gc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=mU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=yU(e)}addValidators(e){this.setValidators(aU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(aU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uU(e,this._rawAsyncValidators))}hasValidator(e){return ip(this._rawValidators,e)}hasAsyncValidator(e){return ip(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$a,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=gc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=pc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pc||this.status===$a)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gc:pc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$a,this._hasOwnPendingAsyncValidator=!0;const n=XV(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function Cie(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=hp(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:_U(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?gc:this.errors?cp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($a)?$a:this._anyControlsHaveStatus(cp)?cp:pc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class mc extends SC{constructor(e=null,n,r){super(CC(n),TC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dp(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class yc extends SC{constructor(e,n,r){super(CC(n),TC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){EU(this,e),Object.keys(e).forEach(r=>{wU(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=vU(n),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class IU extends SC{constructor(e,n,r){super(CC(n),TC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){EU(this,e),e.forEach((r,i)=>{wU(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>vU(e))}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Tie={provide:an,useExisting:Ie(()=>fp)},_c=(()=>Promise.resolve(null))();let fp=(()=>{class t extends an{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ve,this.form=new yc({},fC(n),pC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){_c.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),fc(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){_c.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){_c.then(()=>{const r=this._findContainer(n.path),i=new yc({});fU(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){_c.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){_c.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,gU(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(b(zt,10),b(Hi,10))},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&$t("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Me([Tie]),me]}),t})();const Sie={provide:Gi,useExisting:Ie(()=>xC)},CU=(()=>Promise.resolve(null))();let xC=(()=>{class t extends Gi{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new mc,this._registered=!1,this.update=new Ve,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=IC(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),EC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){CU.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;CU.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(n){return this._parent?op(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(an,9),b(zt,10),b(Hi,10),b(Pr,10),b(xd,8))},t.\u0275dir=B({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Me([Sie]),me,On]}),t})(),MC=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),AU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})();const kC=new z("NgModelWithFormControlWarning"),Pie={provide:an,useExisting:Ie(()=>pp)};let pp=(()=>{class t extends an{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ve,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return fc(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){ap(n.control||null,n,!1),bC(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,gU(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(ap(r||null,n),AC(i)&&(fc(i,n),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);fU(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Iie(t,e){return lp(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wC(this.form,this),this._oldForm&&lp(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(b(zt,10),b(Hi,10))},t.\u0275dir=B({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&$t("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Me([Pie]),me,On]}),t})();const Lie={provide:Gi,useExisting:Ie(()=>PC)};let PC=(()=>{class t extends Gi{constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ve,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=IC(0,s)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),EC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return op(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(b(an,13),b(zt,10),b(Hi,10),b(Pr,10),b(kC,8))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Me([Lie]),me,On]}),t})(),to=(()=>{class t{constructor(){this._validator=rp}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):rp,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=B({type:t,features:[On]}),t})();const zie={provide:zt,useExisting:Ie(()=>gp),multi:!0};let gp=(()=>{class t extends to{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n=>function Gie(t){return null!=t&&!1!==t&&"false"!=`${t}`}(n),this.createValidator=n=>qV}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Er("required",r._enabled?"":null)},inputs:{required:"required"},features:[Me([zie]),me]}),t})();const Xie={provide:zt,useExisting:Ie(()=>LC),multi:!0};let LC=(()=>{class t extends to{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>YV(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Er("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[Me([Xie]),me]}),t})(),$U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[[AU]]}),t})(),Zie=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[$U]}),t})(),HU=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:kC,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[$U]}),t})(),tse=(()=>{class t{group(n,r=null){const i=this._reduceControls(n);let a,s=null,o=null;return null!=r&&(function ese(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(r)?(s=null!=r.validators?r.validators:null,o=null!=r.asyncValidators?r.asyncValidators:null,a=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,o=null!=r.asyncValidator?r.asyncValidator:null)),new yc(i,{asyncValidators:o,updateOn:a,validators:s})}control(n,r,i){return new mc(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new IU(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return AC(n)||hp(n)||_U(n)?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:HU}),t})();function nse(t,e){1&t&&(ue(0,"div"),Te(1," Email is required"),fe())}function rse(t,e){1&t&&(ue(0,"div"),Te(1," Enter a valid email "),fe())}function ise(t,e){if(1&t&&(ue(0,"div",6),dn(1,nse,2,0,"div",7),dn(2,rse,2,0,"div",7),fe()),2&t){const n=Iu();ze(1),mt("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.required),ze(1),mt("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.pattern)}}function sse(t,e){1&t&&(ue(0,"div"),Te(1," Name is required"),fe())}function ose(t,e){1&t&&(ue(0,"div"),Te(1," Enter a valid Name "),fe())}function ase(t,e){if(1&t&&(ue(0,"div",6),dn(1,sse,2,0,"div",7),dn(2,ose,2,0,"div",7),fe()),2&t){const n=Iu();ze(1),mt("ngIf",null==n.name||null==n.name.errors?null:n.name.errors.required),ze(1),mt("ngIf",null==n.name||null==n.name.errors?null:n.name.errors.pattern)}}let use=(()=>{class t{constructor(n){this.emailFrm=new yc({email:new mc("",[eo.required,eo.email,eo.pattern("[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+.[a-z]{2,3}")]),userName:new mc("",[eo.required,eo.maxLength(10),eo.minLength(5),eo.pattern("[A-Za-z0-9 s]{5,10}")])})}ngOnInit(){}onFormSubmit(){var n,r;console.log(this.emailFrm.controls.email.errors),console.log(null===(n=this.emailFrm.get("email"))||void 0===n?void 0:n.value),null===(r=this.email)||void 0===r||r.setValue("test@gmail.com")}get email(){return this.emailFrm.get("email")}get name(){return this.emailFrm.get("userName")}}return t.\u0275fac=function(n){return new(n||t)(b(tse))},t.\u0275cmp=Br({type:t,selectors:[["lib-reactive-form"]],decls:11,vars:4,consts:[[1,"bg-primary","p-2"],[3,"formGroup","ngSubmit"],["type","text","formControlName","email"],["class","text-danger",4,"ngIf"],["type","text","formControlName","userName"],["type","submit",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(n,r){1&n&&(ue(0,"h5",0),Te(1," Reactive Form "),fe(),ue(2,"form",1),$t("ngSubmit",function(){return r.onFormSubmit()}),ue(3,"div"),tr(4,"input",2),dn(5,ise,3,2,"div",3),tr(6,"input",4),dn(7,ase,3,2,"div",3),fe(),ue(8,"button",5),Te(9," Submit"),fe()(),Te(10," check if it has 5 letters")),2&n&&(ze(2),mt("formGroup",r.emailFrm),ze(3),mt("ngIf",!(null!=r.email&&r.email.valid)&&((null==r.email?null:r.email.dirty)||(null==r.email?null:r.email.touched))),ze(2),mt("ngIf",!(null!=r.name&&r.name.valid)&&((null==r.name?null:r.name.dirty)||(null==r.name?null:r.name.touched))),ze(1),mt("disabled",!r.emailFrm.valid))},directives:[MC,yC,pp,hc,mC,PC,yy],styles:[""]}),t})();function lse(t,e){1&t&&(ue(0,"div"),Te(1," Email is required"),fe())}function cse(t,e){1&t&&(ue(0,"div"),Te(1," Enter a valid email "),fe())}function dse(t,e){if(1&t&&(ue(0,"div",9),dn(1,lse,2,0,"div",10),dn(2,cse,2,0,"div",10),fe()),2&t){Iu();const n=ns(7);ze(1),mt("ngIf",null==n.errors?null:n.errors.required),ze(1),mt("ngIf",null==n.errors?null:n.errors.pattern)}}function hse(t,e){1&t&&(ue(0,"div"),Te(1," Name is required"),fe())}function fse(t,e){1&t&&(ue(0,"div"),Te(1," Enter a valid Name "),fe())}function pse(t,e){if(1&t&&(ue(0,"div",9),dn(1,hse,2,0,"div",10),dn(2,fse,2,0,"div",10),fe()),2&t){Iu();const n=ns(12);ze(1),mt("ngIf",null==n.errors?null:n.errors.required),ze(1),mt("ngIf",null==n.errors?null:n.errors.pattern)}}const gse=[{path:"",component:iie},{path:"email",component:(()=>{class t{constructor(){this.email="shahed@gmial.com"}ngOnInit(){}onSubmitForm(n){console.log(n),console.log(n.controls.email.errors)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Br({type:t,selectors:[["lib-subscribtion"]],decls:16,vars:3,consts:[["novalidate","",3,"ngSubmit"],["emailForm","ngForm"],["type","email","name","email","ngModel","","required","","pattern","[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+\\.[a-z]{2,3}"],["email","ngModel"],["class","text-danger",4,"ngIf"],[1,"m-2"],["type","text","name","username","required","","pattern","[A-Za-z0-9 \\s]{5,}","ngModel",""],["name","ngModel"],["type","submit","value","submit","name","submit",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(n,r){if(1&n){const i=function ES(){return I()}();ue(0,"h2"),Te(1," Template Driven Form "),fe(),ue(2,"form",0,1),$t("ngSubmit",function(){!function PT(t){return q.lFrame.contextLView=t,t[8]}(i);const o=ns(3);return r.onSubmitForm(o)}),ue(4,"div"),Te(5," Enter Your Email "),tr(6,"input",2,3),dn(8,dse,3,2,"div",4),fe(),ue(9,"div",5),Te(10," Enter Your Name "),tr(11,"input",6,7),dn(13,pse,3,2,"div",4),fe(),tr(14,"input",8),fe(),tr(15,"p")}if(2&n){const i=ns(3),s=ns(7),o=ns(12);ze(8),mt("ngIf",!s.valid&&(s.dirty||s.touched)),ze(5),mt("ngIf",!o.valid&&(o.dirty||o.touched)),ze(1),mt("disabled",!i.valid)}},directives:[MC,yC,fp,hc,mC,xC,gp,LC,yy],styles:[""]}),t})()},{path:"book",component:rie},{path:"reactive",component:use}];let mse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[[t1.forRoot(gse)],t1]}),t})(),yse=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Br({type:t,selectors:[["lib-header"]],decls:20,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","",1,"nav-link"],["aria-current","page","routerLink","email",1,"nav-link"],["aria-current","page","routerLink","book",1,"nav-link"],["aria-current","page","routerLink","reactive",1,"nav-link"]],template:function(n,r){1&n&&(ue(0,"nav",0)(1,"div",1)(2,"a",2),Te(3,"Navbar"),fe(),ue(4,"button",3),tr(5,"span",4),fe(),ue(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),Te(10,"Home"),fe()(),ue(11,"li",7)(12,"a",9),Te(13,"Email"),fe()(),ue(14,"li",7)(15,"a",10),Te(16,"Books"),fe()(),ue(17,"li",7)(18,"a",11),Te(19,"reactive Form"),fe()()()()()())},directives:[bh],styles:[""]}),t})(),_se=(()=>{class t{constructor(n){this.BookSer=n,this.title="Library",this.books=[]}ngOnInit(){this.BookSer.getBooks().subscribe(n=>{this.books=n})}AddTest(){var n=this;return m(function*(){yield n.BookSer.creatBook({title:"palestine",id:"ddd",author:"sha",audition:5,page:5555,publishDate:1999})})()}}return t.\u0275fac=function(n){return new(n||t)(b(UV))},t.\u0275cmp=Br({type:t,selectors:[["lib-app"]],decls:2,vars:0,template:function(n,r){1&n&&tr(0,"lib-header")(1,"router-outlet")},directives:[yse,Qv],styles:[""]}),t})();const GU_firebase={apiKey:"AIzaSyDMyHpYRbfDluv-ReGkj_be0yH2Z6tCGYQ",authDomain:"library-cad91.firebaseapp.com",projectId:"library-cad91",storageBucket:"library-cad91.appspot.com",messagingSenderId:"801444404101",appId:"1:801444404101:web:371493126974c9a2bb02ec"};let vse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t,bootstrap:[_se]}),t.\u0275inj=un({providers:[],imports:[[x5(()=>M5(GU_firebase)),Zre(()=>tie()),t8,mse,Zie,HU]]}),t})();(function Lz(){UM=!1})(),Z4().bootstrapModule(vse).catch(t=>console.error(t))}},ie=>{ie(ie.s=654)}]);